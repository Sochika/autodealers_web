import{aC as X,B as x,i as Y,H as Z,J as W,r as f,o as p,c as P,b as t,w as s,a as r,p as c,t as l,g as k,f as y,F as S,q as D,n as $}from"./app.js";import ee from"./PsContentContainer.js";import te from"./PsLabel2.js";import re from"./PsLabelHeader42.js";import ae from"./PsLabelTitle32.js";import ie from"./PsIcon2.js";import oe from"./RatingShow.js";import se from"./BaseProgress.js";import le from"./PsLabelCaption3.js";import ne from"./PsRouteLink.js";import de from"./PsBreadcrumb22.js";import ce from"./ItemHorizontalSkeletorItem.js";import{P as me}from"./PsValueStore.js";import{u as E}from"./UserStore.js";import{a as ue,P as J}from"./PsApiService2.js";import{R as G,a as _e}from"./RatingHorizontal.js";import{m as ve}from"./PsSepetetedStore.js";import fe from"./PsFrontendLayout.js";import ge from"./PsButton2.js";import{_ as pe}from"./plugin-vue_export-helper.js";import"./vue-router.esm-bundler.js";import"./vue-skeletor.esm.js";/* empty css            */import"./PsCard2.js";import"./User.js";import"./PsObject.js";import"./RatingDetail.js";import"./DefaultPhoto.js";import"./ps_constants.js";import"./UserListParameterHolder.js";import"./ApiStatus.js";import"./moment.js";import"./FooterView.js";import"./FooterLinkSection.js";import"./PsLink.js";import"./ProductParameterHolder.js";import"./AppInfoStore.js";import"./PsNavTabBar.js";import"./PsDropdown.js";import"./PsDropdownSelect.js";import"./PsIconToggle.js";import"./LocationModal.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsLine.js";import"./PsInputWithLeftIcon.js";import"./LocationParameterHolder.js";import"./ItemLocationTownship.js";import"./ItemLocationTownshipStore.js";import"./AppInfoParameterHolder.js";import"./PsNavBar.js";import"./index.esm.js";import"./auth.esm.js";import"./UserUnReadMessageParameterHolder.js";import"./PsConfirmDialog.js";import"./PsUtils.js";import"./PsNotificationBox.js";import"./ProductStore.js";import"./Product.js";import"./Category.js";import"./DefaultIcon.js";import"./SubCategory.js";import"./NotificationStore.js";import"./NotiUnRegisterHolder.js";const we=ve(n=>X(`ratingListStore/${n}`,()=>{const a=x(new ue),g=x({value:!1});let e=Y(30),u=0;const m=x({value:!1});function w(i){var v,o;a!=null&&a.data!=null&&a.data.length>0&&u!=0?(i.data!=null&&i.data.length>0?(((v=i.data)==null?void 0:v.length)<e.value?m.value=!0:m.value=!1,a.data.push(...i.data)):m.value=!0,a.code=i.code,a.status=i.status,a.message=i.message):(((o=i.data)==null?void 0:o.length)<e.value||i.data==null?m.value=!0:m.value=!1,a.data=i.data,a.code=i.code,a.status=i.status,a.message=i.message),a!=null&&a.data!=null&&(u=a.data.length)}async function _(i,v){g.value=!0;const o=await J.getRatingList(new G,i,e.value,u,v.toMap());w(o),g.value=!1}async function b(i,v){u=0,g.value=!0;const o=await J.getRatingList(new G,i,e.value,u,v.toMap());w(o),g.value=!1}return{ratingList:a,loading:g,limit:e,offset:u,isNoMoreRecord:m,loadRatingList:_,resetRatingList:b}}));class Pe{constructor(){this.userId=""}RatingListHolder(){this.userId=""}toMap(){const a={};return a.user_id=this.userId,a}}const be={name:"ReviewListView",components:{PsContentContainer:ee,PsLabel:te,PsLabelHeader4:re,PsIcon:ie,RatingShow:oe,PsLabelTitle3:ae,BaseProgress:se,PsLabelCaption:le,RatingHorizontal:_e,PsRouteLink:ne,PsBreadcrumb2:de,ItemHorizontalSkeletorItem:ce,PsButton:ge,Head:Z},layout:fe,props:["query","mobileSetting"],setup(n){var v,o;const a=me(),g=new Pe,e=E(),u=E(),m=we(),w=a.getLoginUserId(),_=n.query.user_id;m.limit=(o=(v=n.mobileSetting)==null?void 0:v.default_loading_limit)!=null?o:12,e.loadUser(_),g.userId=_,m.resetRatingList(w,g),u.loadUser(_),console.log("review",u);function b(){m.loadRatingList(w,g)}function i(){}return{breadcrumbuserProvider:e,ratinglistProvider:m,reviewuserProvider:u,rateClicked:i,loginUserId:w,userId:_,loadMore:b}},computed:{breadcrumb(){return[{label:W("profile_label"),url:route("fe_profile")},{label:W("review_list__review_list"),color:"text-fePrimary-500"}]}}},he={class:"mt-32 mb-10"},xe={class:"mb-4 flex items-center mt-8"},ke={key:0,class:"ms-2 me-2"},ye=r("span",{class:"ms-2 me-2"},"/",-1),Se={class:"flex w-auto sm:w-[551px] mt-10 mx-auto bg-feAchromatic-50 dark_bg-feAchromatic-900 px-10 py-4"},Le={class:"w-full flex flex-col rounded-lg"},Re={class:"text-center font-semibold text-2xl dark_text-feAchromatic-50"},Ce={class:"w-auto mx-auto mt-5"},Ie={class:"bg-fePrimary-50 dark_bg-feAchromatic-900 rounded-full p-1 flex items-center justify-between w-full mx-auto"},He={class:"flex flex-col mt-5"},Be={class:"flex justify-between mb-2"},Me={class:""},ze={class:"flex flex-col mt-5"},Ne={class:"flex justify-between mb-2"},Ue={class:""},Ve={class:"flex flex-col mt-5"},je={class:"flex justify-between mb-2"},Ae={class:""},qe={class:"flex flex-col mt-5"},Fe={class:"flex justify-between mb-2"},Te={class:""},We={class:"flex flex-col mt-5"},De={class:"flex justify-between mb-3"},Ee={class:""},Je={class:"flex flex-col mt-10"},Ge={key:0,class:"grid grid-cols-4 sm:grid-cols-8 lg:grid-cols-9 gap-4"},Ke={key:1,class:"grid lg:grid-cols-12 sm:grid-cols-8 grid-cols-4 gap-4 sm:gap-3.5 lg:gap-4"};function Oe(n,a,g,e,u,m){const w=f("Head"),_=f("ps-label"),b=f("ps-route-link"),i=f("rating-show"),v=f("ps-label-title3"),o=f("ps-label-title-3"),h=f("base-progress"),K=f("rating-horizontal"),O=f("item-horizontal-skeletor-item"),L=f("ps-button"),Q=f("ps-content-container");return p(),P(S,null,[t(w,{title:n.$t("review_list__review_list")},null,8,["title"]),t(Q,null,{content:s(()=>{var R,C,I,H,B,M,z,N,U,V,j,A,q,F,T;return[r("div",he,[r("div",xe,[t(b,{to:{name:"fe_profile"}},{default:s(()=>[t(_,{class:"cursor-pointer text-xs lg:text-base"},{default:s(()=>[c(l(n.$t("profile_label")),1)]),_:1})]),_:1}),((C=(R=e.breadcrumbuserProvider.user)==null?void 0:R.data)==null?void 0:C.userId)!=e.loginUserId?(p(),P("span",ke,"/")):k("",!0),((H=(I=e.breadcrumbuserProvider.user)==null?void 0:I.data)==null?void 0:H.userId)!=e.loginUserId?(p(),y(b,{key:1,to:{name:"fe_other_profile",query:{userId:(M=(B=e.breadcrumbuserProvider.user)==null?void 0:B.data)==null?void 0:M.userId}}},{default:s(()=>[t(_,{class:"cursor-pointer text-xs lg:text-base"},{default:s(()=>[c(l(e.breadcrumbuserProvider.user.data?e.breadcrumbuserProvider.user.data.userName:""),1)]),_:1})]),_:1},8,["to"])):k("",!0),ye,t(_,{class:"text-xs lg:text-base",textColor:"text-fePrimary-500"},{default:s(()=>[c(l(n.$t("review_list__review_list")),1)]),_:1})]),t(_,{class:"font-semibold mb-4 text-xl"},{default:s(()=>[c(l(n.$t("review_list__review_list")),1)]),_:1}),r("div",Se,[r("div",Le,[r("h1",Re,l(n.$t("review_list__customer_reviews")),1),r("div",Ce,[r("div",Ie,[t(i,{class:"ms-2",rating:e.reviewuserProvider.user.data?e.reviewuserProvider.user.data.overallRating:0,maxStars:5,iconColor:"text-feWarning-500 dark_text-feWarning-accent"},null,8,["rating"]),t(v,{class:"me-3",textColor:"dark_text-feAchromatic-50"},{default:s(()=>[c(l(e.reviewuserProvider.user.data.overallRating)+" of 5",1)]),_:1})]),t(o,{class:"mt-3 text-center"},{default:s(()=>[c(l(e.reviewuserProvider.user.data?e.reviewuserProvider.user.data.ratingCount:"")+" "+l(n.$t("review_list__customer_ratings")),1)]),_:1})]),r("div",He,[r("div",Be,[t(o,{class:"w-20 md:w-16"},{default:s(()=>[c(l(n.$t("review_list__5_stars")),1)]),_:1}),t(o,null,{default:s(()=>{var d;return[c(l(e.reviewuserProvider.user.data?(d=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:d.fiveStarPercent:0)+" %",1)]}),_:1})]),r("div",Me,[t(h,{color:"bg-fePrimary-500",percentage:e.reviewuserProvider.user.data?(U=(N=(z=e.reviewuserProvider.user)==null?void 0:z.data)==null?void 0:N.ratingDetail)==null?void 0:U.fiveStarPercent:0,class:"mx-2 mb-2 h-20"},null,8,["percentage"])])]),r("div",ze,[r("div",Ne,[t(o,{class:"w-20 md:w-16"},{default:s(()=>[c(l(n.$t("review_list__4_stars")),1)]),_:1}),t(o,null,{default:s(()=>{var d;return[c(l(e.reviewuserProvider.user.data?(d=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:d.fourStarPercent:0)+" %",1)]}),_:1})]),r("div",Ue,[t(h,{color:"bg-fePrimary-500",percentage:e.reviewuserProvider.user.data?(V=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:V.fourStarPercent:0,class:"mx-2 mb-2 h-20"},null,8,["percentage"])])]),r("div",Ve,[r("div",je,[t(o,{class:"w-20 md:w-16"},{default:s(()=>[c(l(n.$t("review_list__3_stars")),1)]),_:1}),t(o,null,{default:s(()=>{var d;return[c(l(e.reviewuserProvider.user.data?(d=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:d.threeStarPercent:0)+" %",1)]}),_:1})]),r("div",Ae,[t(h,{color:"bg-fePrimary-500",percentage:e.reviewuserProvider.user.data?(j=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:j.threeStarPercent:0,class:"mx-2 mb-2 h-20"},null,8,["percentage"])])]),r("div",qe,[r("div",Fe,[t(o,{class:"w-20 md:w-16"},{default:s(()=>[c(l(n.$t("review_list__2_stars")),1)]),_:1}),t(o,null,{default:s(()=>{var d;return[c(l(e.reviewuserProvider.user.data?(d=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:d.twoStarPercent:0)+" %",1)]}),_:1})]),r("div",Te,[t(h,{color:"bg-fePrimary-500",percentage:e.reviewuserProvider.user.data?(A=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:A.twoStarPercent:0,class:"mx-2 mb-2 h-20"},null,8,["percentage"])])]),r("div",We,[r("div",De,[t(o,{class:"w-20 md:w-16"},{default:s(()=>[c(l(n.$t("review_list__1_star")),1)]),_:1}),t(o,null,{default:s(()=>{var d;return[c(l(e.reviewuserProvider.user.data?(d=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:d.oneStarPercent:0)+" %",1)]}),_:1})]),r("div",Ee,[t(h,{color:"bg-fePrimary-500",percentage:e.reviewuserProvider.user.data?(q=e.reviewuserProvider.user.data.ratingDetail)==null?void 0:q.oneStarPercent:0,class:"mx-2 mb-2 h-20"},null,8,["percentage"])])])])]),r("div",Je,[((F=e.ratinglistProvider.ratingList)==null?void 0:F.data)!=null?(p(),P("div",Ge,[(p(!0),P(S,null,D(e.ratinglistProvider.ratingList.data,d=>(p(),P("div",{class:"w-full col-span-4 sm:col-span-4 lg:col-span-3",key:d.id},[t(K,{rate:d,onClick:e.rateClicked},null,8,["rate","onClick"])]))),128))])):e.ratinglistProvider.loading.value==!0?(p(),P("div",Ke,[(p(),P(S,null,D(3,d=>r("div",{class:"w-full col-span-4 sm:col-span-2 md:col-span-3 lg:col-span-4 xl:col-span-3",key:d},[t(O)])),64))])):k("",!0)]),e.ratinglistProvider.loading.value==!1?(p(),y(L,{key:0,class:$(["mx-auto mt-6",e.ratinglistProvider.isNoMoreRecord.value||((T=e.ratinglistProvider.ratingList)==null?void 0:T.data)==null?"hidden":""]),onClick:e.loadMore},{default:s(()=>[c(l(n.$t("list__load_more")),1)]),_:1},8,["onClick","class"])):(p(),y(L,{key:1,class:"mx-auto mt-6",onClick:e.loadMore,disabled:!0},{default:s(()=>[c(l(n.$t("list__loading")),1)]),_:1},8,["onClick"]))])]}),_:1})],64)}var or=pe(be,[["render",Oe]]);export{or as default};
