import{i as C,r as d,Q as P,o as f,c as y,a as s,b as r,w as l,m as N,g as S,p as _,t as n,f as p,F as L,J as k,O as F}from"./app.js";import B from"./PsCard2.js";import H from"./PsLabel2.js";import V from"./PsButton2.js";import R from"./PsIcon2.js";import z from"./RatingShow.js";import D from"./PsLabelCaption3.js";import E from"./PsRouteLink.js";import O from"./PsLoadingDialog3.js";import{U as j}from"./User.js";import{u as M}from"./UserListStore.js";import{U,u as T}from"./UserStore.js";import{P as q}from"./PsValueStore.js";import{U as G}from"./UserFollowHolder.js";import{P as J}from"./ps_constants.js";import{u as Q}from"./ProductStore.js";import{_ as W}from"./plugin-vue_export-helper.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsLine.js";import"./PsLabelTitle2.js";import"./PsObject.js";import"./RatingDetail.js";import"./PsApiService2.js";import"./UserListParameterHolder.js";import"./PsSepetetedStore.js";import"./DefaultPhoto.js";import"./ApiStatus.js";import"./ProductParameterHolder.js";import"./Product.js";import"./Category.js";import"./DefaultIcon.js";import"./SubCategory.js";import"./ItemLocationTownship.js";const A={name:"UserListHorizontal",components:{PsCard:B,PsLabel:H,PsButton:V,PsIcon:R,Rating:z,PsLabelCaption:D,PsRouteLink:E,PsLoadingDialog:O},props:{user:{type:j},onClick:Function,storeName:{type:String,default:""}},setup(o){const u=Q("detail"),t=q().getLoginUserId(),m=C(),v=new G,a=new U().getFollowerUsers(),c=new U().getFollowingUsers();a.loginUserId=t,c.loginUserId=t;const i=M(o.storeName),g=T(o.storeName);async function h(x){t&&t!=J.NO_LOGIN_USER?(m.value.openModal(),x.isFollowed=="1"?m.value.message=k("other_profile__removing_user_from_follower_list"):m.value.message=k("other_profile__adding_user_to_follower_list"),v.userId=t,v.followedUserId=x.userId,await g.postUserFollow(v),w(),m.value.closeModal()):F.Inertia.get(route("login"))}async function w(){o.storeName=="profile-follower"?await i.refleshUserFollowerFollowingList(t,a):o.storeName=="profile-following"?await i.refleshUserFollowerFollowingList(t,c):o.storeName=="top_rated_seller"?await i.refleshTopRatedSellerList(t):o.storeName=="userSearch"?await g.refleshUserSearchList(t,g.userparamHolder):await u.loadItem(o.storeName,t)}return{userListStore:i,followClick:h,LoginUserId:t,psloading:m}}},K={class:"shadow-sm relative bg-feSecondary-50 dark_bg-feSecondary-800 rounded-lg flex flex-col gap-4 p-4"},X={class:"flex gap-4"},Y={class:"w-20 h-20 relative cursor-pointer"},Z={alt:"Placeholder",width:"15px",height:"10px",class:"w-full h-full rounded-full object-cover"},$={key:0,class:"w-8 h-8 bg-feInfo-500 rounded-full p-1 absolute bottom-0 right-0"},ee={class:"grow flex flex-col gap-2 justify-center truncate"},oe={class:"flex gap-4 h-6"},te=["href"],re=["href"],se={class:"self-center hidden"},le={class:"grid grid-cols-2"},ae={class:"flex items-center gap-1 col-span-1 md:col-span-2 lg:col-span-1"},ie={class:"flex items-center gap-1"},ne={class:"h-9"};function de(o,u,e,t,m,v){const a=d("ps-icon"),c=d("ps-route-link"),i=d("ps-label"),g=d("rating"),h=d("router-link"),w=d("ps-button"),x=d("ps-loading-dialog"),b=P("lazy");return f(),y(L,null,[s("div",K,[s("div",X,[r(c,{to:{name:"fe_other_profile",params:{userId:e.user.userId}}},{default:l(()=>[s("div",Y,[N(s("img",Z,null,512),[[b,{src:o.$page.props.thumb1xUrl+"/"+e.user.userCoverPhoto,loading:o.$page.props.sysImageUrl+"/loading_gif.gif",error:o.$page.props.sysImageUrl+"/default_profile.png"}]]),e.user.isVerifybluemark=="1"?(f(),y("div",$,[r(a,{name:"bluemark",textColor:"text-feSecondary-50",w:"24",h:"24"})])):S("",!0)])]),_:1},8,["to"]),s("div",ee,[r(c,{to:{name:"fe_other_profile",params:{userId:e.user.userId}},class:"cursor-pointer"},{default:l(()=>[r(i,{textColor:"text-lg font-semibold text-feSecondary-800 dark_text-feSecondary-50"},{default:l(()=>[_(n(e.user.userName.length>17?e.user.userName.slice(0,17)+"...":e.user.userName),1)]),_:1})]),_:1},8,["to"]),r(c,{to:{name:"fe_review_list",query:{user_id:e.user.userId}}},{default:l(()=>[r(g,{rating:e.user?e.user.overallRating:0,maxStars:5,iconColor:"text-feWarning-500",size:"md"},null,8,["rating"])]),_:1},8,["to"]),s("div",oe,[e.user.isShowPhone=="1"&&e.user.userPhone?(f(),p(h,{key:0,class:"cursor-pointer"},{default:l(()=>[s("a",{href:"tel:"+e.user.userPhone},[r(a,{name:"phone",w:"24",h:"24"})],8,te)]),_:1})):S("",!0),e.user.isShowEmail=="1"&&e.user.userEmail?(f(),p(h,{key:1,class:"cursor-pointer"},{default:l(()=>[s("a",{href:"mailto:"+e.user.userEmail},[r(a,{name:"email",w:"24",h:"24"})],8,re)]),_:1})):S("",!0)])]),s("div",se,[r(h,null,{default:l(()=>[r(a,{textColor:"text-feSecondary-800",name:"arrowNarrowRight",w:"24",h:"24",viewBox:"0 -3 9 20"})]),_:1})])]),s("div",le,[s("div",ae,[r(a,{class:"text-feSecondary-800 dark_text-feSecondary-50",name:"user-group-fill",w:"24",h:"24",viewBox:"0 0 24 24"}),r(i,{textColor:"text-sm font-medium text-feSecondary-800 dark_text-feSecondary-50"},{default:l(()=>[_(n(e.user?e.user.followerCount:"0")+" "+n(o.$t("profile__followers")),1)]),_:1})]),s("div",ie,[r(a,{class:"text-feSecondary-800 dark_text-feSecondary-50",name:"shoppingCart-fill",w:"24",h:"24",viewBox:"0 0 24 24"}),r(i,{textColor:"text-sm font-medium text-feSecondary-800 dark_text-feSecondary-50"},{default:l(()=>[_(n(e.user?e.user.activeItemCount:"0")+" "+n(o.$t("user__item")),1)]),_:1})])]),s("div",ne,[e.user.userId==t.LoginUserId?(f(),p(w,{key:0,class:"absolute bottom-4 right-4 left-4",disabled:""},{default:l(()=>[_(n(o.$t("other_profile__follow")),1)]),_:1})):e.user.isFollowed=="0"?(f(),p(w,{key:1,class:"absolute bottom-4 right-4 left-4",onClick:u[0]||(u[0]=I=>t.LoginUserId==e.user.userId?"":t.followClick(e.user))},{default:l(()=>[_(n(o.$t("other_profile__follow")),1)]),_:1})):(f(),p(w,{key:2,class:"absolute bottom-4 right-4 left-4",onClick:u[1]||(u[1]=I=>t.followClick(e.user))},{default:l(()=>[_(n(o.$t("other_profile__following")),1)]),_:1}))])]),r(x,{ref:"psloading",isClickOut:!1},null,512)],64)}var Ge=W(A,[["render",de]]);export{Ge as default};
