import{d as D,Z as E,i as h,H as T,z as k,o as u,c as z,b as t,w as a,a as m,q as s,t as l,h as H,f,g as b,F as U,r}from"./app.df1b8390.js";import{b as N,d as V}from"./PsLayout.f3d182a2.js";import{P as j}from"./PsBreadcrumb2.51f0c9ee.js";import{u as q}from"./Validators.52e283a4.js";import{P as K}from"./PsInput.a956c4eb.js";import{P as M}from"./PsLabel.220aebc7.js";import{P as O}from"./PsButton.27aa76f7.js";import{P as Z}from"./PsCard.6c5ffdd2.js";import{P as A}from"./PsLoading.d7e2b7a9.js";import{P as G}from"./PsIcon.aabd8ae0.js";import{P as J}from"./PsCheckboxValue.70fe3300.js";import{P as Q}from"./PsLabelCaption.ee5fb266.js";import{P as R}from"./PsLabelTitle3.de17b39e.js";import{P as W}from"./PsImageUpload.52c770ee.js";import{_ as X}from"./Dropzone.7153daab.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsToggle.853ca190.js";import"./toggle.d860cb28.js";import"./PsModal.5c4d4bf6.js";import"./vue-neat-modal.fd4a8f96.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./PsSuccessDialog.9c3bba6c.js";import"./PsInputWithRightIcon.f0158e49.js";import"./PsBannerIcon.93b568f8.js";import"./PsIcon1.a2a2a6d2.js";import"./Icons.70fae9c4.js";import"./PsLoadingCircleDialog.72c88d72.js";import"./PsDraggable.788ff570.js";import"./dropzone.0e7a43e0.js";const ee=D({name:"Create",components:{Head:E,PsBreadcrumb2:j,PsInput:K,PsLabel:M,PsButton:O,PsLabelHeader6:N,PsCard:Z,PsLoading:A,PsIcon:G,PsCheckboxValue:J,PsLabelCaption:Q,PsLabelTitle3:R,PsImageUpload:W,Dropzone:X},layout:V,props:["errors","images"],setup(e){const o=h(!1),p=h(!1),c=h(),{isEmpty:P,minLength:$}=q(),g=(i,d)=>{e.errors[i]=d?$(i,d,3):P(i,d),i=="name"&&(c.value.isError=e.errors.name!="")};let _=T({name:"",cover:"",icon:"",status:!1,extra_caption:[],images:[]});function v(){this.$inertia.post(route("category.store"),_,{forceFormData:!0,onBefore:()=>{o.value=!0},onSuccess:()=>{o.value=!1,p.value=!0,setTimeout(()=>{p.value=!1},2e3)},onError:()=>{c.value.isError=e.errors.name!="",o.value=!1}})}return{validateNameInput:g,handleSubmit:v,form:_,loading:o,success:p,name:c}},computed:{breadcrumb(){return[{label:k("core__be_dashboard_label"),url:route("admin.index")},{label:k("category_module"),url:route("category.index")},{label:k("core__add_category"),color:"text-primary-500"}]}},methods:{handleCancel(){this.$inertia.get(route("category.index"))},removeImage(e){var o=this.form.images.indexOf(e);this.form.images.splice(o,1)},pushImage(e){this.form.images.push(e)},caption(e){let o=!1;this.form.extra_caption.forEach(p=>{if(p.name==e.name)return p.value=e.value,o=!0,!1}),o||this.form.extra_caption.push({name:e.name,value:e.value}),console.log(this.form.extra_caption)}}}),oe={class:"rounded-xl"},te={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 rounded-t-xl"},ae={class:"px-4 pt-6 dark:bg-backgroundDark"},re=m("span",{class:"text-red-500 ms-1"},"*",-1),se=m("span",{class:"text-red-500 ms-1"},"*",-1),le=m("span",{class:"text-red-500 ms-1"},"*",-1),ne={class:"flex flex-row justify-end mb-2.5"};function me(e,o,p,c,P,$){const g=r("Head"),_=r("ps-breadcrumb-2"),v=r("ps-label-header-6"),i=r("ps-label"),d=r("ps-input"),y=r("ps-label-caption"),C=r("ps-label-title-3"),x=r("ps-image-upload"),F=r("ps-checkbox-value"),w=r("ps-button"),B=r("ps-loading"),I=r("ps-icon"),L=r("ps-card"),S=r("ps-layout");return u(),z(U,null,[t(g,{title:e.$t("core__add_category")},null,8,["title"]),t(S,null,{default:a(()=>[t(_,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),t(L,{class:"w-full h-auto"},{default:a(()=>[m("div",oe,[m("div",te,[t(v,{textColor:"text-secondary-800 dark:text-secondary-100"},{default:a(()=>[s(l(e.$t("core__be_category_info")),1)]),_:1})]),m("div",ae,[m("form",{onSubmit:o[7]||(o[7]=H((...n)=>e.handleSubmit&&e.handleSubmit(...n),["prevent"]))},[m("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_label")),1),re]),_:1}),t(d,{ref:"name",type:"text",value:e.form.name,"onUpdate:value":o[0]||(o[0]=n=>e.form.name=n),placeholder:e.$t("core__category_placeholder"),onKeyup:o[1]||(o[1]=n=>e.validateNameInput("name",e.form.name)),onBlur:o[2]||(o[2]=n=>e.validateNameInput("name",e.form.name))},null,8,["value","placeholder"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.name),1)]),_:1})]),m("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_photo_label")),1),se]),_:1}),t(C,null,{default:a(()=>[s(l(e.$t("core__be_recommended_size_400_200")),1)]),_:1}),t(x,{uploadType:"image",imageFile:e.form.cover,"onUpdate:imageFile":o[3]||(o[3]=n=>e.form.cover=n)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.cover),1)]),_:1})]),m("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__category_icon_label")),1),le]),_:1}),t(C,null,{default:a(()=>[s(l(e.$t("core__be_recommended_size_200_200")),1)]),_:1}),t(x,{class:"w-72",uploadType:"icon",imageFile:e.form.icon,"onUpdate:imageFile":o[4]||(o[4]=n=>e.form.icon=n)},null,8,["imageFile"]),t(y,{textColor:"text-red-500 ",class:"mt-2 block"},{default:a(()=>[s(l(e.errors.icon),1)]),_:1})]),m("div",null,[t(i,{class:"text-base mb-2"},{default:a(()=>[s(l(e.$t("core__status_label")),1)]),_:1}),t(F,{value:e.form.status,"onUpdate:value":o[5]||(o[5]=n=>e.form.status=n),class:"font-normal",title:e.$t("core__publish_label")},null,8,["value","title"])]),m("div",ne,[t(w,{onClick:o[6]||(o[6]=n=>e.handleCancel()),type:"reset",class:"me-4",colors:"text-primary-500",hover:""},{default:a(()=>[s(l(e.$t("core__be_btn_cancel")),1)]),_:1}),t(w,{class:"transition-all duration-300 min-w-3xs",padding:"px-7 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[e.loading?(u(),f(B,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):b("",!0),e.success?(u(),f(I,{key:1,name:"check",w:"20",h:"20",class:"me-1.5 transition-all duration-300"})):b("",!0),e.success?(u(),f(i,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[s(l(e.$t("core__be_btn_saved")),1)]),_:1})):b("",!0),!e.loading&&!e.success?(u(),f(i,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:a(()=>[s(l(e.$t("core__be_btn_save")),1)]),_:1})):b("",!0)]),_:1})])],32)])])]),_:1})]),_:1})],64)}var Ve=Y(ee,[["render",me]]);export{Ve as default};
