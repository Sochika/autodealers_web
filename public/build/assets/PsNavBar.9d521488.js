import{aJ as F,d as X,i as h,j as Y,bC as G,O as L,z as B,o as p,c as v,a,m as T,b as t,w as o,q as d,t as n,g as P,f as O,T as Z,n as ee,r as g,E as te}from"./app.df1b8390.js";import{u as oe}from"./UserStore.5c2fdd50.js";import{P as j}from"./PsValueStore.08b5513c.js";import{f as re}from"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import{u as ae,U as se}from"./UserUnReadMessageParameterHolder.1742bc34.js";import ne from"./PsIcon.0697a0d8.js";import le from"./PsDropdown.e8bb7988.js";import ie from"./PsLine.40e0def3.js";import J from"./PsRouteLink.14f8a093.js";import ue from"./PsLabel.3935ab2c.js";import de from"./PsButton.935d57c3.js";import"./ps_constants.deaae373.js";import me from"./PsConfirmDialog.d57ea5b9.js";import{P as pe}from"./PsUtils.2215fd6f.js";import{u as ce}from"./AppInfoStore.4b2c5718.js";import{_ as fe}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsApiService.317e88ef.js";import"./User.ca420d1f.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./DefaultPhoto.cc755f93.js";import"./PsSepetetedStore.9a31ac47.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./PsModal.11d3d0c2.js";import"./vue-neat-modal.fd4a8f96.js";const ge=F(()=>G(()=>import("./UserSettingModal.e6a2f081.js"),["assets/UserSettingModal.e6a2f081.js","assets/PsModal.11d3d0c2.js","assets/PsModal.d437d3a8.css","assets/vue-neat-modal.fd4a8f96.js","assets/vue-neat-modal.29af7d11.css","assets/app.df1b8390.js","assets/app.cc656658.css","assets/PsLine.40e0def3.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/PsLabel.3935ab2c.js","assets/PsRouteLink.14f8a093.js","assets/PasswordUpdateModal.9108c9b1.js","assets/PsLabelCaption.a3843f8e.js","assets/PsLabelTitle.7685c780.js","assets/PsButton.935d57c3.js","assets/PsSecondaryButton.1695e780.js","assets/PsErrorDialog.e4f8b8ec.js","assets/PsIcon.0697a0d8.js","assets/PsSuccessDialog.41a11278.js","assets/PsLoadingDialog.8c472e05.js","assets/PsInput.699f2c15.js","assets/UserStore.5c2fdd50.js","assets/PsApiService.317e88ef.js","assets/User.ca420d1f.js","assets/PsObject.a17ef38f.js","assets/RatingDetail.291ad5d1.js","assets/DefaultPhoto.cc755f93.js","assets/ps_constants.deaae373.js","assets/PsSepetetedStore.9a31ac47.js","assets/UserListParameterHolder.d110b747.js","assets/ApiStatus.5720ba0b.js","assets/PsValueStore.08b5513c.js","assets/PsInputWithRightIcon.d74f8e6b.js","assets/PsConfirmDialog.d57ea5b9.js","assets/PsLoadingDialog.16642bee.js","assets/UserDeleteItemParameterHolder.5d816aba.js","assets/AppInfoStore.4b2c5718.js","assets/AppInfoParameterHolder.e24d894d.js","assets/PsUtils.2215fd6f.js","assets/NotificationStore.987a5d48.js","assets/NotiUnRegisterHolder.eefb692e.js"])),_e=F(()=>G(()=>import("./SearchModal.6cbe19c3.js"),["assets/SearchModal.6cbe19c3.js","assets/app.df1b8390.js","assets/app.cc656658.css","assets/PsModal.11d3d0c2.js","assets/PsModal.d437d3a8.css","assets/vue-neat-modal.fd4a8f96.js","assets/vue-neat-modal.29af7d11.css","assets/PsLine.40e0def3.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/PsLabelTitle.7685c780.js","assets/PsLabel.3935ab2c.js","assets/PsButton.935d57c3.js","assets/PsLink.0ee2fc53.js","assets/PsSuccessDialog.c1cdc55a.js","assets/PsIcon.0697a0d8.js","assets/PsInputWithLeftIcon.bd6285ce.js","assets/PsRouteLink.14f8a093.js","assets/ps_constants.deaae373.js","assets/PsApiService.317e88ef.js","assets/PsObject.a17ef38f.js","assets/Product.dc190b28.js","assets/DefaultPhoto.cc755f93.js","assets/Category.7c65464b.js","assets/DefaultIcon.e76b39a5.js","assets/SubCategory.1b4176e0.js","assets/ItemLocationTownship.94979fe0.js","assets/User.ca420d1f.js","assets/RatingDetail.291ad5d1.js","assets/PsSepetetedStore.9a31ac47.js","assets/ApiStatus.5720ba0b.js","assets/PsValueStore.08b5513c.js"])),he=X({components:{PsIcon:ne,PsDropdown:le,PsLine:ie,PsRouteLink:J,PsLabel:ue,PsButton:de,PsRouteLink:J,PsConfirmDialog:me,UserSettingModal:ge,SearchModal:_e},props:{topOfPage:{type:Boolean,default:!1}},setup(e){const l=h(),V=h(),c=h(!1),_=oe(),E=h(),s=ae(),i=new se,u=h(),b=ce(),C=h();let S=j();const y=S.getLoginUserId();i.userId=y;async function w(){i.loginUserId!=null&&i.loginUserId!="nologinuser"&&await s.postUserUnreadMessageCount(i)}w(),Y(async()=>{H(),await w});function k(){j.psValueStore.loadData(),S=j.psValueStore}function U(){L.get(route("dashboard"))}function $(x=!0){x&&(c.value=!c.value)}function I(){V.value.openModal()}function r(x,D){}function m(x,D){}function M(){l.value.openModal(B("core__be_logout"),B("logout_dialog_msg"),B("chat__confirm"),B("chat__cancel"),()=>{re.auth().signOut(),L.post(route("logout"))},()=>{pe.log("cancel")})}function A(){c.value&&(c.value=!1),L.get(route("login"))}function z(){c.value&&(c.value=!1),L.get(route("login"))}const f=h(!0);function K(){localStorage.isDarkMode!=null&&localStorage.isDarkMode=="true"?(localStorage.isDarkMode="false",f.value=!1):(localStorage.isDarkMode="true",f.value=!0),N()}N();function N(){localStorage.isDarkMode!=null&&localStorage.isDarkMode=="true"?(document.documentElement.classList.add("dark"),f.value=!0):(document.documentElement.classList.remove("dark"),f.value=!1)}function Q(){C.value.openModal()}async function H(){var x,D,R;if(y!="nologinuser"){await _.loadUser(y);const q=await _.user.data?_.user.data.roleId:"",W=await _.user.data?_.user.data.isVerifybluemark:"";((x=b.appInfo.data)==null?void 0:x.uploadSetting)=="admin"&&(q==1?u.value=!0:u.value=!1),((D=b.appInfo.data)==null?void 0:D.uploadSetting)=="admin-bluemark"&&(q==1||W==1?u.value=!0:u.value=!1),((R=b.appInfo.data)==null?void 0:R.uploadSetting)=="all"&&(u.value=!0)}else u.value=!0}return{toggleDarkMode:K,userunreadmsgStore:s,userProfile:E,isDarkMode:f,activeMobileMenu:c,psValueStore:S,userProvider:_,gotToHome:U,enter:r,leave:m,toggleMobileMenu:$,clickLogout:M,loginClicked:z,userNameClicked:k,registerClicked:A,searchClicked:I,ps_confirm_dialog:l,appInfoStore:b,user_setting_modal:C,search_modal:V,openUserSetting:Q,loginUserId:y,isSubmitButtonShow:H,submitButtonShow:u}},computed:{}}),ve={class:"lg:w-large xl:w-feLarge mx-4 md:mx-6 lg:mx-auto flex items-center justify-between mt-3"},be={class:"md:flex gap-6 hidden"},ye={class:"h-10 cursor-pointer"},xe={class:"flex gap-6 items-center"},Se={key:0,class:"flex gap-6 justify-between items-center"},ke={class:"relative"},Pe={key:0,class:"me-6 p-0.5 text-xs font-semibold rounded-full bg-fePrimary-500 text-feAchromatic-50 absolute -top-2 -right-8"},Ce={class:"relative"},we={key:0,class:"me-6 p-0.5 text-xs font-semibold rounded-full bg-fePrimary-500 text-feAchromatic-50 absolute -top-2 -right-8"},Ue={class:"flex items-center"},$e={class:"h-8 w-8 rounded-full"},Ie=["alt"],Me=["src","alt"],Ae={class:"rounded-md shadow-xs w-[280px]"},ze={class:"z-30"},De=a("hr",{class:"mt-2 mb-2 mx-2"},null,-1),Le=a("hr",{class:"mt-2 mb-2 mx-2"},null,-1),Be={class:"hidden lg:inline"},Ve={key:0,class:"border border-b-2 text-fePrimary-500 dark:text-feSecondary-900 h-auto mt-3 bg-feAchromatic-50 dark:bg-feAchromatic-900 pb-1"},Te={class:"flex flex-col p-5 gap-6"},Oe={class:"h-10"};function je(e,l,V,c,_,E){var U,$,I;const s=g("ps-route-link"),i=g("ps-icon"),u=g("ps-label"),b=g("ps-dropdown"),C=g("ps-button"),S=g("ps-confirm-dialog"),y=g("user-setting-modal"),w=g("search-modal"),k=te("lazy");return p(),v("nav",{class:ee(["flex flex-col fixed w-full h-16 z-40 bg-feAchromatic-50 dark:bg-feAchromatic-900 shadow",e.topOfPage?"mt-10":"mt-0"])},[a("div",ve,[a("div",be,[a("div",ye,[T(a("img",{onClick:l[0]||(l[0]=(...r)=>e.gotToHome&&e.gotToHome(...r)),alt:"Navbar logo",width:"40px",height:"40px",class:"rounded:xl w-auto h-10 object-cover"},null,512),[[k,{src:e.$page.props.thumb3xUrl+"/"+((I=($=(U=e.appInfoStore.appInfo.data)==null?void 0:U.frontendConfigSetting)==null?void 0:$.frontendLogo)==null?void 0:I.imgPath),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]])]),t(s,{to:{name:"dashboard"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__home")),1)]),_:1}),t(s,{to:{name:"fe_category.index"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("category_list__title")),1)]),_:1},8,["to"]),t(s,{to:{name:"fe_blog"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__blogs_title")),1)]),_:1}),t(s,{to:{name:"fe_contact_us"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__contact_us_title")),1)]),_:1})]),a("div",{class:"block md:hidden cursor-pointer",onClick:l[1]||(l[1]=(...r)=>e.toggleMobileMenu&&e.toggleMobileMenu(...r))},[t(i,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark:text-feAchromatic-50",name:"menu",h:"24",w:"24"})]),a("div",xe,[t(i,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark:text-feAchromatic-50 hover:text-fePrimary-500",name:"search",h:"24",w:"24",viewBox:"0 0 23 23",onClick:l[2]||(l[2]=r=>e.searchClicked())}),e.$page.props.authUser!=null?(p(),v("div",Se,[t(s,{to:{name:"fe_chat_list"}},{default:o(()=>{var r,m,M,A,z,f;return[a("div",ke,[t(i,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark:text-feAchromatic-50 hover:text-fePrimary-500",name:"message",h:"24",w:"24",viewBox:"0 0 23 23"}),parseInt((r=e.userunreadmsgStore.unreadCount.data)==null?void 0:r.buyerUnreadCount)+parseInt((m=e.userunreadmsgStore.unreadCount.data)==null?void 0:m.sellerUnreadCount)?(p(),v("div",Pe,n(parseInt((M=e.userunreadmsgStore.unreadCount.data)==null?void 0:M.buyerUnreadCount)+parseInt((A=e.userunreadmsgStore.unreadCount.data)==null?void 0:A.sellerUnreadCount)?parseInt((z=e.userunreadmsgStore.unreadCount.data)==null?void 0:z.buyerUnreadCount)+parseInt((f=e.userunreadmsgStore.unreadCount.data)==null?void 0:f.sellerUnreadCount):""),1)):P("",!0)])]}),_:1}),t(s,{to:{name:"fe_notification_list"}},{default:o(()=>{var r,m;return[a("div",Ce,[t(i,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark:text-feAchromatic-50 hover:text-fePrimary-500",name:"bell-outline",h:"24",w:"24",viewBox:"0 -2 18 23"}),(r=e.userunreadmsgStore.unreadCount.data)!=null&&r.notiUnreadCount?(p(),v("div",we,n((m=e.userunreadmsgStore.unreadCount.data)==null?void 0:m.notiUnreadCount),1)):P("",!0)])]}),_:1}),t(b,{horizontalAlign:"center",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto",boxPositioning:"mt-[16px] translate-x-16 lg:translate-x-20 xl:translate-x-24"},{select:o(()=>{var r,m;return[a("div",Ue,[a("div",$e,[(r=e.$page.props.authUser)!=null&&r.user_cover_photo?T((p(),v("img",{key:0,class:"object-cover h-8 w-8 rounded-full cursor-pointer",alt:e.$t("core__be_profile")},null,8,Ie)),[[k,{src:e.$page.props.uploadUrl+"/"+((m=e.$page.props.authUser)==null?void 0:m.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]]):(p(),v("img",{key:1,class:"object-cover h-8 w-8 rounded-full cursor-pointer",src:e.$page.props.uploadUrl+"/default_profile.png",alt:e.$t("core__be_profile")},null,8,Me))]),t(i,{name:"downArrow"})])]}),list:o(()=>[a("div",Ae,[a("div",ze,[t(s,{to:{name:"fe_profile"},textSize:"text-sm",class:"m-2 mt-4 flex border p-2 rounded hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer justify-center"},{default:o(()=>[t(u,{textColor:"text-feAchromatic-500"},{default:o(()=>[d(n(e.$t("core__view_profile")),1)]),_:1})]),_:1}),De,t(s,{to:{name:"fe_favourite_items"},textSize:"text-sm",class:"w-full flex p-4 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center"},{default:o(()=>[t(i,{name:"heartOutline",class:"ms-2"}),t(u,{class:"ms-2"},{default:o(()=>[d(n(e.$t("core__fe_favourites")),1)]),_:1})]),_:1}),a("button",{class:"w-full flex p-4 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center",hover:"",focus:"",colors:"",onClick:l[3]||(l[3]=(...r)=>e.openUserSetting&&e.openUserSetting(...r))},[t(i,{class:"ms-2",name:"setting"}),t(u,{class:"ms-2",textColor:""},{default:o(()=>[d(n(e.$t("profile__user_setting")),1)]),_:1})]),Le,e.$page.props.canAccessAdminPanel?(p(),O(s,{key:0,to:{name:"admin.index"},textSize:"text-sm",class:"w-full flex p-4 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center"},{default:o(()=>[t(i,{name:"refresh",class:"ms-2"}),t(u,{class:"ms-2"},{default:o(()=>[d(n(e.$t("core__fe_switch_to_admin")),1)]),_:1})]),_:1},8,["to"])):P("",!0),a("button",{onClick:l[4]||(l[4]=(...r)=>e.clickLogout&&e.clickLogout(...r)),class:"w-full flex p-4 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center"},[t(i,{name:"signOut",class:"ms-2",textColor:"text-fePrimary-500"}),t(u,{class:"ms-2",textColor:"text-fePrimary-500"},{default:o(()=>[d(n(e.$t("core__be_logout")),1)]),_:1})])])])]),_:1})])):(p(),O(u,{key:1,onClick:e.loginClicked,class:"font-medium text-sm dark:border-feAccent-500 px-4 py-2 cursor-pointer",textColor:"text-fePrimary-500"},{default:o(()=>[d(n(e.$t("ps_nav_bar__login")),1)]),_:1},8,["onClick"])),e.submitButtonShow==!0?(p(),O(s,{key:2,to:{name:e.$page.props.authUser!=null?"fe_item_entry":"login"}},{default:o(()=>[t(C,{padding:"lg:px-4 lg:py-2 p-2"},{default:o(()=>[t(i,{name:"plus-circle",class:"me-0 lg:me-2",h:"24",w:"24"}),a("span",Be,n(e.$t("ps_nav_bar__btn_submit_ad")),1)]),_:1})]),_:1},8,["to"])):P("",!0)])]),t(Z,null,{default:o(()=>[e.activeMobileMenu?(p(),v("div",Ve,[a("div",Te,[a("div",Oe,[T(a("img",{onClick:l[5]||(l[5]=(...r)=>e.gotToHome&&e.gotToHome(...r)),alt:"Navbar logo",width:"40px",height:"40px",class:"rounded:xl w-auto h-10 object-cover"},null,512),[[k,{src:e.$page.props.thumb1xUrl+"/"+e.$page.props.backendLogo.img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]])]),t(s,{to:{name:"dashboard"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__home")),1)]),_:1}),t(s,{to:{name:"fe_category.index"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("category_list__title")),1)]),_:1},8,["to"]),t(s,{to:{name:"fe_blog"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__blogs_title")),1)]),_:1}),t(s,{to:{name:"fe_contact_us"},textSize:"text-sm text-feSecondary-800 hover:text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[d(n(e.$t("ps_nav_bar__contact_us_title")),1)]),_:1})])])):P("",!0)]),_:1}),t(S,{ref:"ps_confirm_dialog"},null,512),t(y,{ref:"user_setting_modal"},null,512),t(w,{ref:"search_modal"},null,512)],2)}var ct=fe(he,[["render",je]]);export{ct as default};
