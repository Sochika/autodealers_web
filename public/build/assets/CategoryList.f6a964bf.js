import{Z as D,i as g,j as R,z as B,o as i,c as p,b as n,w as m,a as s,a0 as E,f as y,F as T,s as V,n as A,t as S,g as H,q as M,r as a}from"./app.df1b8390.js";import j from"./PsContentContainer.2eb168de.js";import{u as K}from"./CategoryStore.50c8997c.js";import{u as U}from"./TouchCountStore.b63d7b3a.js";import{T as Z}from"./TouchCountParameterHolder.9ce47d98.js";import q from"./PsRouteLink.14f8a093.js";import G from"./PsBreadcrumb2.43f3d05c.js";import O from"./PsIcon.0697a0d8.js";import W from"./PsButton.935d57c3.js";import J from"./PsLabel.3935ab2c.js";import Q from"./PsInput.699f2c15.js";import X from"./PsDropdown.e8bb7988.js";import Y from"./PsDropdownSelect.a0554af8.js";import $ from"./PsLabelHeader4.6663f7f2.js";import oo from"./CategoryHorizontalItem.093ba3c7.js";import{P as z}from"./ps_constants.deaae373.js";import to from"./PsLoadingDialog.16642bee.js";import eo from"./PsFrontendLayout.9c0ecc46.js";import{P as ro}from"./PsValueStore.08b5513c.js";import ao from"./PsInputWithRightIcon.d74f8e6b.js";import io from"./PsNoResult.8f88a170.js";import{_ as no}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsApiService.317e88ef.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./PsStore.6b13d6a8.js";import"./PsSepetetedStore.9a31ac47.js";import"./ApiStatus.5720ba0b.js";import"./PsModal.11d3d0c2.js";import"./vue-neat-modal.fd4a8f96.js";import"./PsLine.40e0def3.js";import"./PsLabelTitle.7685c780.js";import"./FooterView.97dc7826.js";import"./FooterLinkSection.746092c6.js";import"./PsLink.0ee2fc53.js";import"./PsLabelCaption.a3843f8e.js";import"./ProductParameterHolder.b3159892.js";import"./AppInfoStore.4b2c5718.js";import"./PsNavTabBar.6c5f8913.js";import"./PsIconToggle.27dcede3.js";import"./LocationModal.e33ab72c.js";import"./PsInputWithLeftIcon.bd6285ce.js";import"./LocationParameterHolder.5c9d98a1.js";import"./ItemLocationTownship.94979fe0.js";import"./ItemLocationTownshipStore.9af11738.js";import"./AppInfoParameterHolder.e24d894d.js";import"./PsNavBar.9d521488.js";import"./UserStore.5c2fdd50.js";import"./User.ca420d1f.js";import"./RatingDetail.291ad5d1.js";import"./UserListParameterHolder.d110b747.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.1742bc34.js";import"./PsConfirmDialog.d57ea5b9.js";import"./PsUtils.2215fd6f.js";import"./PsNotificationBox.cc3868e0.js";import"./ProductStore.186e332b.js";import"./Product.dc190b28.js";import"./SubCategory.1b4176e0.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.987a5d48.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";const so={name:"CategoryListView",components:{PsButton:W,PsContentContainer:j,PsBreadcrumb2:G,PsLabel:J,PsLabelHeader4:$,CategoryHorizontalItem:oo,PsRouteLink:q,PsIcon:O,PsInput:Q,PsNoResult:io,PsDropdown:X,PsDropdownSelect:Y,PsLoadingDialog:to,PsInputWithRightIcon:ao,Head:D},props:["mobileSetting"],layout:eo,setup(l){var b,f;const t=K("cat");t.limit=(f=(b=l.mobileSetting)==null?void 0:b.default_loading_limit)!=null?f:12;const h=g(),o=g(!1);let w=g(""),C=g("");const c=ro().getLoginUserId(),k=U(),d=new Z,x=[{id:"0",orderBy:"name",orderType:z.FILTERING__ASC,name:"A to Z"},{id:"1",orderBy:"name",orderType:z.FILTERING__DESC,name:"Z to A"}],_=g(!0);setTimeout(async()=>{await u()},1e3);function P(r){w.value=r.id,C.value=r.name,t.paramHolder.orderBy=r.orderBy,t.paramHolder.orderType=r.orderType,u()}function I(){u()}async function u(){o.value=!0,await t.resetCategoryList(c,t.paramHolder),h.value.closeModal(),o.value=!1,_.value=!1}function v(){t.loadItemList(c,t.paramHolder)}async function L(r){d.typeName="category",d.typeId=r,d.userId=c,await k.postTouchCount(c,d)}return R(()=>{var r;_.value==!0&&((r=t.itemList)==null?void 0:r.data)==null&&h.value.openModal()}),{categoryStore:t,loadMore:v,currentsorting:x,sortingFilterClicked:P,activeSortingId:w,activeSortingName:C,ps_loading_dialog:h,searchClicked:I,loading:o,updateCategoryTouchCount:L,initial:_}},computed:{breadcrumb(){return[{label:B("item_list__home"),url:route("dashboard")},{label:B("category_list__title"),color:"text-fePrimary-500"}]}}},lo={class:"sm:mt-32 lg:mt-36 mt-28"},mo={class:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center"},co={class:"mb-6 sm:mb-0"},po={class:"flex justify-end content-center items-center w-full"},_o={class:"rounded-md bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xs w-44",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},uo={class:"pt-2"},fo=["onClick"],go={class:"flex flex-row mb-8 mt-8"},yo={class:"w-full"},ho={key:0,class:"grid grid-cols-4 sm:grid-cols-4 md:grid-cols-9 lg:grid-cols-12 xl:gap-6 gap-4 sm:gap-6"};function Co(l,t,h,o,w,C){const N=a("Head"),c=a("ps-breadcrumb-2"),k=a("ps-icon"),d=a("ps-input-with-right-icon"),x=a("ps-dropdown-select"),_=a("ps-dropdown"),P=a("category-horizontal-item"),I=a("ps-route-link"),u=a("ps-no-result"),v=a("ps-button"),L=a("ps-loading-dialog"),b=a("ps-content-container");return i(),p(T,null,[n(N,{title:l.$t("category_list__title")},null,8,["title"]),n(b,null,{content:m(()=>{var f,r;return[s("div",lo,[s("div",mo,[s("div",co,[n(c,{items:C.breadcrumb,class:""},null,8,["items"])]),s("div",po,[n(d,{onKeyup:E(o.searchClicked,["enter"]),value:o.categoryStore.paramHolder.keyword,"onUpdate:value":t[1]||(t[1]=e=>o.categoryStore.paramHolder.keyword=e),class:"sm:w-80 w-full",padding:"py-2 px-4 h-10",placeholder:l.$t("category__fe_search")},{icon:m(()=>[o.categoryStore.paramHolder.keyword==""?(i(),y(k,{key:0,name:"search",class:"cursor-pointer"})):(i(),y(k,{key:1,onClick:t[0]||(t[0]=e=>[o.categoryStore.paramHolder.keyword="",o.searchClicked()]),name:"cross",class:"cursor-pointer"}))]),_:1},8,["onKeyup","value","placeholder"]),n(_,{horizontalAlign:"right",h:"h-auto",class:"ms-4"},{select:m(()=>[n(x,{class:"h-10 w-10 sm:w-auto sm:ps-4 ps-2.5",leftIcon:"filter",leftIconTheme:"text-feAchromatic-50 sm:me-2 me-0",bgColor:"bg-fePrimary-500",text:"text-sm font-medium text-feAchromatic-50 hidden sm:inline",iconTheme:"text-feAchromatic-50 ms-2 hidden sm:inline",selectedValue:o.activeSortingName,placeholder:"Sort"},null,8,["selectedValue"])]),list:m(()=>[s("div",_o,[s("div",uo,[(i(!0),p(T,null,V(o.currentsorting,e=>(i(),p("div",{key:e.id,class:"flex py-4 px-2 hover:bg-fePrimary-50 dark:hover:bg-feSecondary-500 cursor-pointer items-center",onClick:F=>o.sortingFilterClicked(e)},[s("span",{class:A(["ms-2 text-feSecondary-800 dark:text-feSecondary-200",e.id==o.activeSortingId?"font-semibold":""])},S(l.$t("review_entry__title"))+": "+S(e.name),3)],8,fo))),128))])])]),_:1})])]),s("div",go,[s("div",yo,[((f=o.categoryStore.itemList)==null?void 0:f.data)!=null?(i(),p("div",ho,[(i(!0),p(T,null,V(o.categoryStore.itemList.data,e=>(i(),p("div",{class:"w-full col-span-4 sm:col-span-2 md:col-span-3 lg:col-span-4 xl:col-span-3",key:e.catId},[n(I,{to:{name:"fe_sub_category",query:{cat_id:e.catId,cat_name:e.catName}},onClick:F=>o.updateCategoryTouchCount(e.catId)},{default:m(()=>[n(P,{category:e},null,8,["category"])]),_:2},1032,["to","onClick"])]))),128))])):H("",!0),o.categoryStore.loading.value==!1&&((r=o.categoryStore.itemList)==null?void 0:r.data)==null&&o.initial==!1?(i(),y(u,{key:1,onOnClick:o.loadMore},null,8,["onOnClick"])):H("",!0),o.categoryStore.loading.value==!1&&o.initial==!1?(i(),y(v,{key:2,class:A(["font-medium mx-auto mt-6",o.categoryStore.isNoMoreRecord.value?"hidden":""]),onClick:o.loadMore},{default:m(()=>[M(S(l.$t("category_list__load_more")),1)]),_:1},8,["onClick","class"])):o.initial==!1?(i(),y(v,{key:3,class:"font-medium mx-auto mt-8",onClick:o.loadMore,disabled:!0},{default:m(()=>[M(S(l.$t("category_list__loading")),1)]),_:1},8,["onClick"])):H("",!0)])])]),n(L,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})],64)}var Bt=no(so,[["render",Co]]);export{Bt as default};
