import{d as E,Z as N,i as w,y as S,z as m,o as p,c as u,b as t,w as a,a as l,q as r,t as i,f as j,g as V,F as I,s as T,m as v,u as F,O as x,H as M,r as d,E as O}from"./app.df1b8390.js";import{g as R,b as q,h as W,c as Z,e as G,d as J}from"./PsLayout.f3d182a2.js";import{P as K}from"./PsLabel.220aebc7.js";import{P as Q}from"./PsButton.27aa76f7.js";import{P as X}from"./PsAlert.6ad375d4.js";import{P as Y}from"./PsBreadcrumb2.51f0c9ee.js";import{P as ee}from"./PsIcon.aabd8ae0.js";import{P as oe}from"./PsBannerIcon.93b568f8.js";import{P as te}from"./PsActivity.ec44f08f.js";import{h as se}from"./moment.9709ab41.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsToggle.853ca190.js";import"./toggle.d860cb28.js";import"./PsModal.5c4d4bf6.js";import"./vue-neat-modal.fd4a8f96.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./PsSuccessDialog.9c3bba6c.js";import"./PsInputWithRightIcon.f0158e49.js";import"./PsLoading.d7e2b7a9.js";import"./PsInput.a956c4eb.js";import"./PsLabelCaption.ee5fb266.js";import"./PsLoadingCircleDialog.72c88d72.js";import"./PsIcon1.a2a2a6d2.js";import"./Icons.70fae9c4.js";const ae=E({name:"Index",components:{Head:N,PsLabel:K,PsButton:Q,PsAlert:X,PsBreadcrumb2:Y,PsDangerDialog:R,PsIcon:ee,PsBannerIcon:oe,PsLabelHeader6:q,PsActivity:te,PsWarningDialog:W,PsLabelCaption3:Z,PsTextButton:G},layout:J,data(){return{moment:se}},props:["can","contacts","checkPermission","defaultProfileImg"],setup(e){const n=w(),b=w(!1);let f=S([]);for(let s=0;s<e.contacts.length;s++)f[e.contacts[s].id]=!1;const k=w();let P=w(!1);function C(){for(let s=0;s<e.contacts.length;s++)P.value==!1?f[e.contacts[s].id]=!1:f[e.contacts[s].id]=!0}function $(){k.value.openModal(m("core__warning"),m("core__comfirm_to_mark_as_read"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{x.put(route("contact.allasread"))},()=>{})}function D(s){x.get(route("contact.edit",s))}function h(){let s=[];for(let c=0;c<e.contacts.length;c++)f[e.contacts[c].id]==!0&&s.push(e.contacts[c].id);let y=M({ids:s});n.value.openModal(m("core__delete"),m("core__comfirm_to_delete_contact_multiple"),m("core__be_btn_confirm"),m("core__be_btn_cancel"),()=>{x.delete(route("contact.multiDelete",y)),b.value=!b.value},()=>{})}return{clickDelete:h,booleanContacts:f,toogleSelectAll:C,selectAll:P,showDelete:b,goToDetail:D,ps_danger_dialog:n,makeAllRead:$,ps_warning_dialog:k}},methods:{handleDetail(e){this.$inertia.get(route("contact.show",e))}},computed:{breadcrumb(){return[{label:m("core__be_dashboard_label"),url:route("admin.index")},{label:m("contact_us_message_module"),color:"text-primary-500"}]}}}),ne={class:"bg-primary-50 dark:bg-primary-900 py-2.5 ps-4 mb-6 rounded-t-xl"},re={key:0},ie={class:"flex justify-end mb-4"},de={class:"flex"},me={class:"flex"},ce={class:"bg-red-400 text-white p-1 rounded-lg"},pe={class:"h-8 w-8 sm:w-12 sm:h-12"},_e={class:"w-full ms-4"},ue={class:"flex justify-between text-sm"},fe={key:1},ge={class:"flex justify-between mb-4"},be={class:"flex flex-row items-center"},he={class:"flex flex-row"},ye=["onUpdate:modelValue"],we={class:"h-8 w-8 sm:w-12 sm:h-12"},ve={class:"w-full ms-4"},ke={class:"flex justify-between text-sm"};function Pe(e,n,b,f,k,P){const C=d("Head"),$=d("ps-breadcrumb-2"),D=d("ps-label-header6"),h=d("ps-icon"),s=d("ps-label"),y=d("ps-text-button"),c=d("ps-label-caption-3"),A=d("ps-activity"),U=d("ps-button"),H=d("ps-danger-dialog"),L=d("ps-warning-dialog"),z=d("ps-layout"),B=O("lazy");return p(),u(I,null,[t(C,{title:e.$t("contact_us_message_module")},null,8,["title"]),t(z,null,{default:a(()=>[t($,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),l("div",ne,[t(D,null,{default:a(()=>[r(i(e.$t("core__be_messages")),1)]),_:1})]),e.showDelete?(p(),u("div",fe,[l("div",ge,[l("div",be,[v(l("input",{"onUpdate:modelValue":n[2]||(n[2]=o=>e.selectAll=o),onChange:n[3]||(n[3]=o=>e.toogleSelectAll()),class:"me-2 border-1 border-primary-500 rounded-full",type:"checkbox"},null,544),[[F,e.selectAll]]),t(s,{class:"text-base font-light",textColor:"text-primary-500"},{default:a(()=>[r(i(e.$t("core__be_select_all")),1)]),_:1})]),l("div",he,[t(U,{onClick:n[4]||(n[4]=o=>e.showDelete=!e.showDelete),textSize:"text-sm",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:a(()=>[r(i(e.$t("core__be_btn_cancel")),1)]),_:1}),t(U,{onClick:e.clickDelete,class:"transition-all duration-300 min-w-3xs",colors:"bg-red-500 text-white",padding:"px-5 py-2",rounded:"rounded",hover:"",focus:""},{default:a(()=>[r(i(e.$t("btn_delete")),1)]),_:1},8,["onClick"])])]),(p(!0),u(I,null,T(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer flex flex-row items-center justify-center"},[t(A,{onClick:_=>e.booleanContacts[o.id]=!e.booleanContacts[o.id],theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:a(()=>{var _;return[v(l("input",{"onUpdate:modelValue":g=>e.booleanContacts[o.id]=g,class:"me-2 border-1 border-secondary-200 rounded",type:"checkbox"},null,8,ye),[[F,e.booleanContacts[o.id]]]),l("div",we,[v(l("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:n[5]||(n[5]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[B,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),l("span",ve,[l("span",ke,[t(s,{class:"text-sm lg:text-base"},{default:a(()=>[r(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:a(()=>[r(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:a(()=>[r("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])):(p(),u("div",re,[l("div",ie,[e.can.updateContact?(p(),j(y,{key:0,onClick:e.makeAllRead,padding:"p-1.5"},{default:a(()=>[l("div",de,[t(h,{name:"right",class:"mt-1.5",fillone:"#6366F1"}),t(s,{class:"ms-1 my-auto cursor-pointer",textColor:"text-primary-500"},{default:a(()=>[r(i(e.$t("core__be_mark_all_as_read")),1)]),_:1})])]),_:1},8,["onClick"])):V("",!0),e.can.deleteContact?(p(),j(y,{key:1,onClick:n[0]||(n[0]=o=>e.showDelete=!e.showDelete),padding:"p-1.5"},{default:a(()=>[l("div",me,[l("span",ce,[t(h,{name:"trash",w:"16",h:"16"})]),t(s,{class:"ms-1 my-auto",textColor:"text-primary-500"},{default:a(()=>[r(i(e.$t("btn_delete")),1)]),_:1})])]),_:1})):V("",!0)]),(p(!0),u(I,null,T(e.contacts,o=>(p(),u("div",{key:o.id,class:"cursor-pointer"},[t(A,{onClick:_=>e.goToDetail(o.id),theme:o.is_read==0?"bg-primary-50 dark:bg-primary-900":" bg-secondary-50 dark:bg-secondary-900",icon:!1,h:"h-26"},{content:a(()=>{var _;return[l("div",pe,[v(l("img",{width:"20",height:"20",class:"mx-2 inline-block h-8 w-8 sm:w-12 sm:h-12 rounded-full ring-2 ring-white object-cover",alt:"Profile photo",onError:n[1]||(n[1]=(...g)=>e.defaultProfileImg&&e.defaultProfileImg(...g))},null,544),[[B,{src:e.$page.props.uploadUrl+"/"+((_=o.owner)==null?void 0:_.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]])]),l("span",_e,[l("span",ue,[t(s,{class:"text-sm lg:text-base"},{default:a(()=>[r(i(o.contact_name),1)]),_:2},1024),t(c,null,{default:a(()=>[r(i(e.moment(o.added_date).format(e.$page.props.dateFormat)),1)]),_:2},1024)]),t(c,null,{default:a(()=>[r("by: "+i(o.contact_email),1)]),_:2},1024)])]}),_:2},1032,["onClick","theme"])]))),128))])),t(H,{ref:"ps_danger_dialog"},null,512),t(L,{ref:"ps_warning_dialog"},null,512)]),_:1})],64)}var Je=le(ae,[["render",Pe]]);export{Je as default};
