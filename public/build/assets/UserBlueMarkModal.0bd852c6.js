import $ from"./PsModal.11d3d0c2.js";import M from"./PsLabelTitle.7685c780.js";import P from"./PsLabel.3935ab2c.js";import x from"./PsTextarea.45f4fd8c.js";import U from"./PsButton.935d57c3.js";import w from"./PsErrorDialog.7e6a8a91.js";import B from"./PsSuccessDialog.c1cdc55a.js";import I from"./PsLoadingDialog.16642bee.js";import{b as N}from"./PsApiService.317e88ef.js";import D from"./PsIcon.0697a0d8.js";import{u as V}from"./UserStore.5c2fdd50.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import{d as L,i as n,o as S,c as O,b as t,w as a,a as h,q as c,t as m,f as R,g as T,F as q,r as s}from"./app.df1b8390.js";import"./vue-neat-modal.fd4a8f96.js";import"./PsLine.40e0def3.js";import"./User.ca420d1f.js";import"./PsObject.a17ef38f.js";import"./RatingDetail.291ad5d1.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.deaae373.js";import"./PsSepetetedStore.9a31ac47.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";class z{constructor(){this.loginUserId="",this.note=""}UserBlueMarkParameterHolder(){this.loginUserId="",this.note=""}toMap(){const o={};return o.user_id=this.loginUserId,o.note=this.note,o}}const A=L({name:"UserBlueMarkModal",components:{PsModal:$,PsLabelTitle:M,PsLabel:P,PsButton:U,PsIcon:D,PsErrorDialog:w,PsLoadingDialog:I,PsSuccessDialog:B,PsTextarea:x},setup(){const e=n(),o=n(""),u=n(),k=n(),v=n();let i="1";const l=n(!1),d=new z,p=V();function _(r){i=r,e.value.toggle(!0)}function f(r){/^\/$|(\/[a-zA-Z_0-9-]+)+$/.test(r.target.value)?l.value=!0:l.value=!1}async function b(){if(d.loginUserId=i,d.note=o.value,o.value==""||o.value==null)return l.value=!0,!1;u.value.openModal();const r=await p.blueMarkUser(i,d);r.status==N.ERROR?k.value.openModal("",r.message):v.value.openModal("",r.message),await p.loadUser(i),u.value.closeModal(),e.value.toggle(!1)}return{psmodal:e,openModal:_,note:o,provider:p,submitClicked:b,ps_loading_dialog:u,ps_error_dialog:k,ps_success_dialog:v,validateNote:f,validation:l}}}),F={class:"flex gap-2 items-center"},H={class:"mt-6 flex flex-col gap-4"};function K(e,o,u,k,v,i){const l=s("ps-icon"),d=s("ps-label-title"),p=s("ps-textarea"),_=s("ps-label"),f=s("ps-button"),b=s("ps-modal"),r=s("ps-loading-dialog"),y=s("ps-error-dialog"),C=s("ps-success-dialog");return S(),O(q,null,[t(b,{ref:"psmodal",maxWidth:"408px",isClickOut:!0,theme:"dark:bg-feSecondary-800 px-3 py-6 sm:p-6 border rounded-lg",class:"z-50",line:"hidden"},{title:a(()=>[h("div",F,[t(l,{name:"checkCircle",class:"text-feInfo-500",w:"24",h:"24",onClick:o[0]||(o[0]=g=>e.psmodal.toggle(!1))}),t(d,{class:"grow"},{default:a(()=>[c(m(e.$t("blue_mark_user__verify_blue_mark")),1)]),_:1}),t(l,{class:"cursor-pointer dark_text-feSecondary-500",name:"close",w:"24",h:"24",onClick:o[1]||(o[1]=g=>e.psmodal.toggle(!1))})])]),body:a(()=>[t(p,{theme:"dark_bg-feSecondary-800 dark:text-feSecondary-200 mt-6",placeholder:e.$t("blue_mark_user__enter_contact_info"),rows:8,value:e.note,"onUpdate:value":o[2]||(o[2]=g=>e.note=g),onKeypress:e.validateNote},null,8,["placeholder","value","onKeypress"]),e.validation?(S(),R(_,{key:0,class:"",textColor:"text-fePrimary-500"},{default:a(()=>[c(m(e.$t("blue_mark_user__note_required")),1)]),_:1})):T("",!0),t(_,{textColor:"text-xs font-normal text-feSecondary-500 dark:text-feSecondary-400 mt-4"},{default:a(()=>[c(m(e.$t("blue_mark_user__description")),1)]),_:1})]),footer:a(()=>[h("div",H,[t(f,{class:"",onClick:e.submitClicked},{default:a(()=>[c(m(e.$t("blue_mark_user__apply")),1)]),_:1},8,["onClick"]),t(f,{colors:"bg-feAchromatic-50 dark:bg-feSecondary-800 text-feSecondary-800 dark:text-feSecondary-200",focus:"",hover:"hover:bg-feSecondary-50",border:"border border-feSecondary-300 dark:border-feSecondary-500",onClick:o[3]||(o[3]=g=>e.psmodal.toggle(!1))},{default:a(()=>[c(m(e.$t("blue_mark_user__close")),1)]),_:1})])]),_:1},512),t(r,{ref:"ps_loading_dialog",isClickOut:!1},null,512),t(y,{ref:"ps_error_dialog"},null,512),t(C,{ref:"ps_success_dialog"},null,512)],64)}var fe=E(A,[["render",K]]);export{fe as default};
