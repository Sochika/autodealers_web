import{Z as ee,i as R,j as oe,z as g,o as l,c as m,b as o,w as r,a as c,m as te,g as w,q as i,t as s,f as D,F as V,s as Y,h as re,O as q,r as n,E as se}from"./app.df1b8390.js";import ae from"./PsContentContainer.2eb168de.js";import le from"./PsLabelHeader4.6663f7f2.js";import ie from"./PsCard.27eb6835.js";import ne from"./PsLabel.3935ab2c.js";import de from"./PsButton.935d57c3.js";import me from"./RatingShow.465fe62d.js";import ce from"./PsRouteLink.14f8a093.js";import ue from"./PsIcon.0697a0d8.js";import _e from"./PsAdSense.77c17409.js";import fe from"./PsFrontendLayout.9c0ecc46.js";import pe from"./PsBreadcrumb2.43f3d05c.js";import ge from"./ItemHorizontalItem.059067b3.js";import Se from"./ItemHorizontalSkeletorItem.227fd39d.js";import be from"./PsConfirmDialog.d57ea5b9.js";import he from"./PsLoadingDialog.16642bee.js";import{u as we}from"./ProductStore.186e332b.js";import{U as xe,u as ke}from"./UserStore.5c2fdd50.js";import{u as ye}from"./AppInfoStore.4b2c5718.js";import{P as ve}from"./PsValueStore.08b5513c.js";import{P as Pe}from"./ProductParameterHolder.b3159892.js";import{U as Ie}from"./UserBlockParameterHolder.5aa06675.js";import{U as Ce}from"./UserFollowHolder.8b598f9e.js";import{b as $}from"./PsApiService.317e88ef.js";import{P as G}from"./ps_constants.deaae373.js";import{A as Ue}from"./AppInfoParameterHolder.e24d894d.js";/* empty css                     */import{P as Le}from"./PsUtils.2215fd6f.js";import{h as He}from"./moment.9709ab41.js";import{_ as Ne}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.97dc7826.js";import"./FooterLinkSection.746092c6.js";import"./PsLink.0ee2fc53.js";import"./PsLabelCaption.a3843f8e.js";import"./PsNavTabBar.6c5f8913.js";import"./PsDropdown.e8bb7988.js";import"./PsDropdownSelect.a0554af8.js";import"./PsIconToggle.27dcede3.js";import"./LocationModal.e33ab72c.js";import"./PsModal.11d3d0c2.js";import"./vue-neat-modal.fd4a8f96.js";import"./PsLine.40e0def3.js";import"./PsInputWithLeftIcon.bd6285ce.js";import"./LocationParameterHolder.5c9d98a1.js";import"./ItemLocationTownship.94979fe0.js";import"./PsSepetetedStore.9a31ac47.js";import"./ItemLocationTownshipStore.9af11738.js";import"./PsNavBar.9d521488.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.1742bc34.js";import"./User.ca420d1f.js";import"./RatingDetail.291ad5d1.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./PsNotificationBox.cc3868e0.js";import"./Product.dc190b28.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.987a5d48.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./PsLabelTitle4.cd5c6256.js";import"./format.min.427d9f09.js";import"./PsValueHolder.2dad780d.js";import"./FavouriteItemStore.6d0ab0b1.js";import"./FollowItemParameterHolder.4ad7da37.js";import"./PsLabelTitle.7685c780.js";import"./vue-skeletor.esm.6f33d49c.js";const ze={name:"OtherProfileView",components:{PsIcon:ue,PsBreadcrumb2:pe,PsContentContainer:ae,PsLabelHeader4:le,PsCard:ie,PsLabel:ne,PsButton:de,Rating:me,ItemHorizontalItem:ge,ItemHorizontalSkeletorItem:Se,PsConfirmDialog:be,PsLoadingDialog:he,PsRouteLink:ce,PsAdSense:_e,Head:ee},layout:fe,props:["query","dateFormat"],setup(a){var A,v;const S=R(),O=R(),e=R(),H=new Ie,b=(v=(A=a.query)==null?void 0:A.userId)==null?void 0:v.toString(),h=we(),k=new Pe().getLatestParameterHolder();k.addedUserId=b;const t=ve().getLoginUserId(),y=new xe().getOtherUserData(),f=new Ce,j=ye(),x=new Ue;x.userId=t,y.loginUserId=t,y.id=b;let _=ke("other");N();async function N(){await _.loadOtherUser(t,y);const u=await _.user.data?He(_.user.data.addedDate).format(a.dateFormat):"";S.value=u}h.paramHolder.addedUserId=b;const F=h.paramHolder.getUrlParamsAndQuery();async function M(){var u,p,P,I;t&&t!=G.NO_LOGIN_USER?(e.value.openModal(),((u=_.user.data)==null?void 0:u.isFollowed)=="1"?e.value.message=g("other_profile__removing_user_from_follower_list"):e.value.message=g("other_profile__adding_user_to_follower_list"),f.userId=t,f.followedUserId=(I=(P=(p=_.user)==null?void 0:p.data)==null?void 0:P.userId)!=null?I:"",await _.postUserFollow(f),N(),e.value.closeModal()):q.get(route("login"))}function B(u){t&&t!=G.NO_LOGIN_USER?O.value.openModal(g("other_profile__confirm"),g("other_profile__confirm_to_block_user"),g("other_profile__block"),g("other_profile__cancel"),()=>{z(u)},()=>{Le.log("Cancel")}):q.get(route("login"))}async function z(u){H.loginUserId=t,H.addedUserId=u,e.value.openModal(),e.value.message=g("other_profile__adding_user_to_block_list");const p=await _.blockUser(H,t);e.value.closeModal(),p.status!=$.ERROR&&p.status==$.SUCCESS&&q.get(route("dashboard"))}function E(){h.loadItemList(b,k)}return oe(async()=>{setTimeout(async()=>{window.popStateDetected?window.popStateDetected=!1:h.resetProductList(b,k)},1e3)}),{itemStore:h,userStore:_,userItemParams:F,blockClicked:B,ps_confirm_dialog:O,psloading:e,followClick:M,LoginUserId:t,doBlock:z,appInfoStore:j,PsConst:G,JoinedDate:S,loadMoreActivePost:E}},computed:{breadcrumb(){return[{label:g("fe__other_profile"),url:route("fe_profile")},{label:this.userStore.user.data?this.userStore.user.data.userName:"",color:"text-fePrimary-500"}]}}},Ae={class:"mt-32 mb-10"},De={class:"xl:mb-7 lg:mb-11 sm:mb-7 mb-9"},Oe={class:"grid lg:grid-cols-12 sm:grid-cols-8 grid-cols-4 gap-4 sm:gap-3.5 lg:gap-4"},je={class:"w-full col-span-4 sm:col-span-2 lg:col-span-3 mt-2"},Fe={class:"w-32 h-32 rounded-full mx-auto relative"},Me={alt:"Placeholder",class:"rounded-full w-full h-full object-cover"},Be={key:0,class:"w-8 h-8 bg-feInfo-500 rounded-full p-1 absolute bottom-0 right-0"},Ee={key:0},Re={key:1},Ve={key:1,class:"mt-5 py-2 px-4 text-center w-full border bg-feAchromatic-50 border-1 border-feSecondary-300 dark:border-feSecondary-500 dark:bg-feSecondary-800 rounded lg:w-full mx-auto"},qe={key:0,class:"w-full col-span-4 sm:col-span-6 lg:col-span-9"},Ge={class:"w-full sm:mt-2"},Je={class:"w-full h-full grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},Te={key:0,class:"flex justify-center mt-6 mb-4"},Qe={class:"mx-auto"},We={key:1,class:"w-full col-span-4 sm:col-span-6 lg:col-span-9 mt-4 mb-6"},Ze={class:"w-full"},Ke={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},Xe={key:2,class:"col-span-4 sm:col-span-6 lg:col-span-9 mt-2 mb-6 w-full flex justify-center"};function Ye(a,S,O,e,H,b){const h=n("Head"),k=n("ps-breadcrumb-2"),J=n("ps-icon"),t=n("ps-label"),y=n("rating"),f=n("ps-route-link"),j=n("ps-card"),x=n("ps-button"),_=n("ps-label-header-4"),N=n("item-horizontal-item"),F=n("ps-ad-sense"),M=n("item-horizontal-skeletor-item"),B=n("ps-confirm-dialog"),z=n("ps-loading-dialog"),E=n("ps-content-container"),A=se("lazy");return l(),m(V,null,[o(h,{title:a.$t("fe__other_profile")},null,8,["title"]),o(E,null,{content:r(()=>{var v,u,p,P,I,T,Q,W;return[c("div",Ae,[c("div",De,[o(k,{items:b.breadcrumb,class:""},null,8,["items"])]),c("div",null,[c("div",Oe,[c("div",je,[o(j,{class:"lg:rounded-lg bg-feSecondary-50 dark:bg-feSecondary-800 p-4"},{default:r(()=>{var d,C,U,L,Z;return[c("div",Fe,[te(c("img",Me,null,512),[[A,{src:a.$page.props.thumb1xUrl+"/"+((d=e.userStore.user.data)==null?void 0:d.userCoverPhoto),loading:a.$page.props.sysImageUrl+"/loading_gif.gif",error:a.$page.props.sysImageUrl+"/default_profile.png"}]]),((C=e.userStore.user.data)==null?void 0:C.isVerifybluemark)=="1"?(l(),m("div",Be,[o(J,{name:"bluemark",textColor:"text-feSecondary-50",w:"24",h:"24"})])):w("",!0)]),o(t,{textColor:"dark:text-feSecondary-200",class:"text-center text-xl font-semibold mb-2 mt-2"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.userName:""),1)]),_:1}),o(f,{to:{name:"fe_review_list",query:{user_id:(U=e.userStore.user.data)==null?void 0:U.userId}}},{default:r(()=>{var K,X;return[o(y,{class:"flex items-center content-center justify-center px-4 mb-3 cursor-pointer",rating:e.userStore.user.data?Number((X=(K=e.userStore.user)==null?void 0:K.data)==null?void 0:X.overallRating):0,maxStars:5,size:"md",iconColor:"text-feWarning-500"},null,8,["rating"])]}),_:1},8,["to"]),o(t,{textColor:"text-feSecondary-600 dark:text-feSecondary-400",class:"text-sm mb-3 text-center"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.ratingCount:"")+" "+s(a.$t("profile__reviews")),1)]),_:1}),e.userStore.user.data&&e.userStore.user.data.isShowEmail=="1"?(l(),D(t,{key:0,textColor:"dark:text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.userEmail:""),1)]),_:1})):w("",!0),e.userStore.user.data&&e.userStore.user.data.isShowPhone=="1"?(l(),D(t,{key:1,textColor:"dark:text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.userPhone:""),1)]),_:1})):w("",!0),o(t,{textColor:"dark:text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.userAboutMe:""),1)]),_:1}),o(t,{textColor:"text-feSecondary-500 dark:text-feSecondary-400",class:"text-xs mb-3 text-center"},{default:r(()=>[i(s(a.$t("profile__joined_on"))+" "+s(e.JoinedDate),1)]),_:1}),o(f,{class:"cursor-pointer mb-2 flex justify-between",to:{name:"fe_follower_list",query:{userId:(L=e.userStore.user.data)==null?void 0:L.userId}}},{default:r(()=>[o(t,{class:"text-sm"},{default:r(()=>[i(s(a.$t("other_profile__followers")),1)]),_:1}),o(t,{class:"font-semibold text-sm"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.followerCount:"0"),1)]),_:1})]),_:1},8,["to"]),o(f,{class:"cursor-pointer flex justify-between",to:{name:"fe_following_list",query:{userId:(Z=e.userStore.user.data)==null?void 0:Z.userId}}},{default:r(()=>[o(t,{class:"text-sm"},{default:r(()=>[i(s(a.$t("other_profile__followings")),1)]),_:1}),o(t,{class:"font-semibold text-sm"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.followingCount:"0"),1)]),_:1})]),_:1},8,["to"])]}),_:1}),((v=e.userStore.user.data)==null?void 0:v.userId)!=e.LoginUserId?(l(),m("div",{key:0,class:"text-center mt-6",onClick:S[0]||(S[0]=(...d)=>e.followClick&&e.followClick(...d))},[((u=e.userStore.user.data)==null?void 0:u.isFollowed)=="0"?(l(),m("div",Ee,[o(x,{rounded:"rounded",textSize:"text-sm",class:"w-full mx-auto"},{default:r(()=>[i(s(a.$t("other_profile__follow")),1)]),_:1})])):((p=e.userStore.user.data)==null?void 0:p.isFollowed)=="1"?(l(),m("div",Re,[o(x,{rounded:"rounded",textSize:"text-sm",class:"w-full mx-auto"},{default:r(()=>[i(s(a.$t("other_profile__unfollow")),1)]),_:1})])):w("",!0)])):w("",!0),((Q=(T=(I=(P=e.appInfoStore)==null?void 0:P.appInfo)==null?void 0:I.data)==null?void 0:T.psAppSetting)==null?void 0:Q.isBlockUser)==e.PsConst.ONE?(l(),m("div",Ve,[o(t,{class:"text-sm cursor-pointer",onClick:S[1]||(S[1]=d=>{var C,U,L;return e.blockClicked((L=(U=(C=e.userStore.user)==null?void 0:C.data)==null?void 0:U.userId)!=null?L:"")})},{default:r(()=>[i(s(a.$t("other_profile__block_user")),1)]),_:1})])):w("",!0)]),((W=e.itemStore.itemList)==null?void 0:W.data)!=null?(l(),m("div",qe,[c("div",Ge,[o(_,{class:"mt-8 mb-6 sm:mt-0 font-medium"},{default:r(()=>[i(s(e.userStore.user.data?e.userStore.user.data.userName+"'s":"")+" "+s(a.$t("other_profile__active_post")),1)]),_:1}),c("div",Je,[(l(!0),m(V,null,Y(e.itemStore.itemList.data,d=>(l(),m("div",{class:"w-full h-full",key:d.id},[o(f,{to:{name:"item",params:{itemName:d.title.split(" ").join("-").toLowerCase(),imgName:d.defaultPhoto.imgPath},query:{item_id:d.id,item_name:d.title.split(" ").join("-").toLowerCase()}}},{default:r(()=>[o(N,{item:d},null,8,["item"])]),_:2},1032,["to"])]))),128))])]),e.itemStore.isNoMoreRecord.value==!1?(l(),m("div",Te,[e.itemStore.loading.value==!1?(l(),D(x,{key:0,onClick:re(e.loadMoreActivePost,["prevent"]),class:"flex flex-row",theme:"bg-fePrimary-500 dark:bg-feAccent-500 text-feAchromatic-50 dark:text-feAchromatic-900 capitalize px-4 py-1"},{default:r(()=>[i(s(a.$t("blog_list__load_more")),1)]),_:1},8,["onClick"])):(l(),D(x,{key:1,class:"mx-auto mt-8",disabled:!0},{default:r(()=>[i(s(a.$t("list__loading")),1)]),_:1}))])):w("",!0),c("div",Qe,[o(F,{adFormat:"horizontal"})])])):e.itemStore.itemList!=null&&e.itemStore.loading.value?(l(),m("div",We,[c("div",Ze,[c("div",Ke,[(l(),m(V,null,Y(6,d=>c("div",{class:"w-full",key:d},[o(M)])),64))])])])):(l(),m("div",Xe,[o(t,{textColor:"text-feSecondary-500 dark:text-feAchromatic-50 lg:text-xl sm:text-lg text-base font-medium",class:"mt-10 flex-grow-0 mx-auto"},{default:r(()=>[i(s(a.$t("list__no_result")),1)]),_:1})]))])])]),o(B,{ref:"ps_confirm_dialog"},null,512),o(z,{ref:"psloading",isClickOut:!1},null,512)]}),_:1})],64)}var ht=Ne(ze,[["render",Ye]]);export{ht as default};
