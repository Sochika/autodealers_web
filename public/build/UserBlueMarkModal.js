import $ from"./PsModal2.js";import M from"./PsLabelTitle2.js";import x from"./PsLabel2.js";import P from"./PsTextarea2.js";import U from"./PsButton2.js";import w from"./PsErrorDialog2.js";import B from"./PsSuccessDialog3.js";import I from"./PsLoadingDialog3.js";import{b as N}from"./PsApiService2.js";import D from"./PsIcon2.js";import{u as V}from"./UserStore.js";import{_ as E}from"./plugin-vue_export-helper.js";import{d as L,i as n,r,o as S,c as O,b as t,w as a,a as c,p as m,t as _,f as R,g as T,F as z}from"./app.js";import"./vue-neat-modal.js";import"./PsLine.js";import"./User.js";import"./PsObject.js";import"./RatingDetail.js";import"./DefaultPhoto.js";import"./ps_constants.js";import"./PsSepetetedStore.js";import"./UserListParameterHolder.js";import"./ApiStatus.js";class A{constructor(){this.loginUserId="",this.note=""}UserBlueMarkParameterHolder(){this.loginUserId="",this.note=""}toMap(){const o={};return o.user_id=this.loginUserId,o.note=this.note,o}}const F=L({name:"UserBlueMarkModal",components:{PsModal:$,PsLabelTitle:M,PsLabel:x,PsButton:U,PsIcon:D,PsErrorDialog:w,PsLoadingDialog:I,PsSuccessDialog:B,PsTextarea:P},setup(){const e=n(),o=n(""),u=n(),k=n(),b=n();let i="1";const l=n(!1),d=new A,p=V();function f(s){i=s,e.value.toggle(!0)}function g(s){/^\/$|(\/[a-zA-Z_0-9-]+)+$/.test(s.target.value)?l.value=!0:l.value=!1}async function y(){if(d.loginUserId=i,d.note=o.value,o.value==""||o.value==null)return l.value=!0,!1;u.value.openModal();const s=await p.blueMarkUser(i,d);s.status==N.ERROR?k.value.openModal("",s.message):b.value.openModal("",s.message),await p.loadUser(i),u.value.closeModal(),e.value.toggle(!1)}return{psmodal:e,openModal:f,note:o,provider:p,submitClicked:y,ps_loading_dialog:u,ps_error_dialog:k,ps_success_dialog:b,validateNote:g,validation:l}}}),H={class:"flex justify-between items-center"},K={class:"flex gap-2 items-center"},j={class:"mt-6"},q={class:"mt-4"},W={class:"mt-6 flex flex-col gap-4"};function Z(e,o,u,k,b,i){const l=r("ps-icon"),d=r("ps-label-title"),p=r("ps-textarea"),f=r("ps-label"),g=r("ps-button"),y=r("ps-modal"),s=r("ps-loading-dialog"),h=r("ps-error-dialog"),C=r("ps-success-dialog");return S(),O(z,null,[t(y,{ref:"psmodal",maxWidth:"408px",isClickOut:!0,theme:"dark_bg-feSecondary-800 px-3 py-6 sm:p-6 border rounded-lg",class:"z-50",line:"hidden"},{title:a(()=>[c("div",H,[c("div",K,[t(l,{name:"checkCircle",class:"text-feInfo-500",w:"24",h:"24",onClick:o[0]||(o[0]=v=>e.psmodal.toggle(!1))}),t(d,null,{default:a(()=>[m(_(e.$t("blue_mark_user__verify_blue_mark")),1)]),_:1})]),t(l,{class:"cursor-pointer dark_text-feSecondary-500",name:"close",w:"24",h:"24",onClick:o[1]||(o[1]=v=>e.psmodal.toggle(!1))})])]),body:a(()=>[c("div",j,[t(p,{theme:"dark_bg-feSecondary-800 dark_text-feSecondary-200",placeholder:e.$t("blue_mark_user__enter_contact_info"),rows:8,value:e.note,"onUpdate:value":o[2]||(o[2]=v=>e.note=v),onKeypress:e.validateNote},null,8,["placeholder","value","onKeypress"]),e.validation?(S(),R(f,{key:0,class:"",textColor:"text-fePrimary-500"},{default:a(()=>[m(_(e.$t("blue_mark_user__note_required")),1)]),_:1})):T("",!0)]),c("div",q,[t(f,{textColor:"text-xs font-normal text-feSecondary-500 dark_text-feSecondary-400"},{default:a(()=>[m(_(e.$t("blue_mark_user__description")),1)]),_:1})])]),footer:a(()=>[c("div",W,[t(g,{class:"",onClick:e.submitClicked},{default:a(()=>[m(_(e.$t("blue_mark_user__apply")),1)]),_:1},8,["onClick"]),t(g,{colors:"bg-feAchromatic-50 dark_bg-feSecondary-800 text-feSecondary-800 dark_text-feSecondary-200",focus:"",hover:"hover_bg-feSecondary-50",border:"border border-feSecondary-300 dark_border-feSecondary-500",onClick:o[3]||(o[3]=v=>e.psmodal.toggle(!1))},{default:a(()=>[m(_(e.$t("blue_mark_user__close")),1)]),_:1})])]),_:1},512),t(s,{ref:"ps_loading_dialog",isClickOut:!1},null,512),t(h,{ref:"ps_error_dialog"},null,512),t(C,{ref:"ps_success_dialog"},null,512)],64)}var ke=E(F,[["render",Z]]);export{ke as default};
