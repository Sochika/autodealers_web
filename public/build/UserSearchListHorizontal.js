import I from"./PsCard2.js";import L from"./PsLabel2.js";import N from"./PsButton2.js";import F from"./Rating.js";import V from"./PsRouteLink.js";import{P as z}from"./PsValueStore.js";import{U as A}from"./User.js";import{i as B,r as i,Q as D,o as n,c as g,a as t,b as s,w as r,m as H,p as u,t as d,f as y,g as w,F as M,J as U,O as E}from"./app.js";import{u as O}from"./UserStore.js";import R from"./PsLoadingDialog3.js";import{U as j}from"./UserFollowHolder.js";import{P as q}from"./ps_constants.js";import{_ as G}from"./plugin-vue_export-helper.js";import"./PsObject.js";import"./RatingDetail.js";import"./PsApiService2.js";import"./DefaultPhoto.js";import"./PsSepetetedStore.js";import"./UserListParameterHolder.js";import"./ApiStatus.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsLine.js";import"./PsLabelTitle2.js";const J={name:"UserListHorizontal",components:{PsCard:I,PsLabel:L,Rating:F,PsRouteLink:V,PsButton:N,PsLoadingDialog:R},props:{user:{type:A},onClick:Function,storeName:{type:String,default:"storeName"}},setup(l){const e=z().getLoginUserId(),o=B(),f=new j,c=O(l.storeName);async function a(_){e&&e!=q.NO_LOGIN_USER?(o.value.openModal(),_.isFollowed=="1"?o.value.message=U("other_profile__removing_user_from_follower_list"):o.value.message=U("other_profile__adding_user_to_follower_list"),f.userId=e,f.followedUserId=_.userId,await c.postUserFollow(f),x(),o.value.closeModal()):E.Inertia.get(route("login"))}async function x(){await c.refleshUserSearchList(e,c.userparamHolder)}return{userStore:c,LoginUserId:e,followClick:a,psloading:o}}},Q={class:"p-4 bg-fePrimary-50 dark_bg-feAchromatic-800 rounded-xl lg:rounded-2xl"},T={class:"flex items-start justify-between leading-none"},K={class:"flex items-start no-underline text-feAchromatic-900 cursor-pointer"},W={class:"flex mt-2 w-10"},X={alt:"admin",class:"rounded-full bg-transparent mx-1 w-10 h-10 object-cover",width:"15",height:"10"},Y={class:"flex flex-col ms-4 w-28 sm:w-32"},Z={class:"flex"},$={class:"flex items-center mt-1.5"},ee={key:0,class:"flex ms-2 mt-2"},te={key:1,class:"flex ms-2 mt-2"};function oe(l,m,e,o,f,c){const a=i("ps-label"),x=i("rating"),_=i("ps-route-link"),v=i("ps-button"),P=i("ps-card"),S=i("ps-loading-dialog"),C=D("lazy");return n(),g(M,null,[t("div",{class:"cursor-pointer h-full w-full",onClick:m[1]||(m[1]=h=>e.onClick!=null?e.onClick(e.user):null)},[s(P,{class:"flex-col h-full bg-fePrimary-50 dark_bg-feAchromatic-800"},{default:r(()=>{var h,k,b;return[t("div",Q,[t("div",T,[t("div",K,[t("div",W,[H(t("img",X,null,512),[[C,{src:l.$page.props.thumb1xUrl+"/"+e.user.userProfilePhoto,loading:l.$page.props.sysImageUrl+"/loading_gif.gif",error:l.$page.props.sysImageUrl+"/default_photo.png"}]])]),t("div",Y,[s(_,{to:{name:"fe_other_profile",query:{userId:(h=e.user)==null?void 0:h.userId}}},{default:r(()=>[t("div",Z,[s(a,{class:"font-medium lg:text-base text-sm"},{default:r(()=>[u(d(e.user?e.user.userName:""),1)]),_:1})]),t("div",$,[s(x,{grade:e.user?e.user.overallRating:0,maxStars:5,hasCounter:!0},null,8,["grade"])]),e.user&&e.user.isShowEmail=="1"?(n(),y(a,{key:0,class:"font-light text-xxs lg:text-xs mt-0.5"},{default:r(()=>[u(d(e.user?e.user.userEmail:""),1)]),_:1})):w("",!0),e.user&&e.user.isShowPhone=="1"?(n(),y(a,{key:1,class:"font-light text-xxs lg:text-xs mt-0.5"},{default:r(()=>[u(d(e.user?e.user.userPhone:""),1)]),_:1})):w("",!0),s(a,{class:"font-light text-xxs lg:text-xs mt-1.5"},{default:r(()=>{var p;return[u(d(e.user?e.user.userAboutMe.length>20?e.user.userAboutMe.slice(0,20)+" ....":(p=e.user)==null?void 0:p.userAboutMe:""),1)]}),_:1})]),_:1},8,["to"])]),((k=e.user)==null?void 0:k.userId)!=o.LoginUserId?(n(),g("div",{key:0,onClick:m[0]||(m[0]=p=>o.followClick(e.user))},[((b=e.user)==null?void 0:b.isFollowed)=="0"?(n(),g("div",ee,[s(v,{rounded:"rounded-2xl",textSize:"text-xxs lg:text-xs"},{default:r(()=>[u(d(l.$t("other_profile__follow")),1)]),_:1})])):(n(),g("div",te,[s(v,{rounded:"rounded-2xl",textSize:"text-xxs lg:text-xs"},{default:r(()=>[u(d(l.$t("other_profile__unfollow")),1)]),_:1})]))])):w("",!0)])])])]}),_:1})]),s(S,{ref:"psloading",isClickOut:!1},null,512)],64)}var Ce=G(J,[["render",oe]]);export{Ce as default};
