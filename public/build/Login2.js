import{Y as I,b4 as M,b5 as V,b6 as F,b7 as K,H as B,i as d,r,o as v,c as W,b as e,a as m,f as k,w as l,p as i,t as a,g as R,ay as U,F as j,J as p}from"./app.js";import{u as D}from"./UserProvider.js";import{P as H}from"./PsValueStore.js";import{b}from"./PsApiService2.js";import N from"./PsLabel2.js";import $ from"./PsButton2.js";import Z from"./PsInput2.js";import G from"./PsCheckboxValue2.js";import q from"./PsLine.js";import J from"./PsErrorDialog2.js";import T from"./PsRouteLink.js";import Y from"./PrivacyModal.js";import O from"./PsSuccessDialog22.js";import Q from"./PsLoadingDialog3.js";import{_ as X}from"./plugin-vue_export-helper.js";import"./User.js";import"./PsObject.js";import"./RatingDetail.js";import"./UserListParameterHolder.js";import"./DefaultPhoto.js";import"./ps_constants.js";import"./UserRegisterParameterHolder.js";import"./PhoneLoginParameterHolder.js";import"./ApiStatus.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsLabelTitle2.js";import"./AboutUsStore.js";import"./PsSepetetedStore.js";import"./PsIcon2.js";I.add(M,V,F,K);const ee={name:"LoginView",components:{PsLabel:N,PsButton:$,PsInput:Z,PsCheckboxValue:G,PsLine:q,PsErrorDialog:J,PsRouteLink:T,PrivacyModal:Y,PsSuccessDialog2:O,PsLoadingDialog:Q,Head:B},setup(){H.psValueStore.isUserLoggedIn();const t=d(""),c=d(""),g=d(!1),o=d(!1),y=d(),u=d(),C=d(),s=d(),n=D();n.userResource.message="";function _(z){/^([a-zA-Z0-9]+)@([a-zA-Z0-9]+)\.([a-zA-Z]{2,5})$/.test(z.target.value)?o.value=!1:o.value=!0}function h(){g.value||u.value.openModal(p("login__privacy_policy"),p("login__need_to_agree_privacy"))}async function w(){g.value?(await n.loginWithFacebookId(),n.userResource.status==b.SUCCESS):u.value.openModal(p("login__privacy_policy"),p("login__need_to_agree_privacy"))}async function P(){g.value?(await n.loginWithGoogleId(),n.userResource.status==b.SUCCESS):u.value.openModal(p("login__privacy_policy"),p("login__need_to_agree_privacy"))}async function x(){g.value?(await n.loginWithAppleSignIn(),n.userResource.status==b.SUCCESS):u.value.openModal(p("login__privacy_policy"),p("login__need_to_agree_privacy"))}async function S(){y.value.openModal(),await n.loginWithEmailId(t.value,c.value),n.userResource.status==b.SUCCESS,y.value.closeModal()}function A(){}function E(){}function L(z){g.value=z}function f(){s.value.openModal(L)}return{normalLoginClicked:S,email:t,password:c,userProvider:n,phoneloginclicked:h,facebookloginclicked:w,googleloginclicked:P,appleloginclicked:x,openRegister:A,openForgotPassword:E,agreePrivacyPolicy:g,ps_error_dialog:u,agreePrivacyPolicyClicked:f,privacy_modal:s,ps_success_dialog:C,validateEmail:_,validationEmail:o,ps_loading_dialog:y}}},oe={class:"sm:mt-32 lg:mt-36 mt-28 flex flex-col"},te={class:"content-center mx-auto w-96"},le={class:"w-55 lg:w-80 flex flex-col mx-auto rounded-lg"},ae={class:"mt-4 lg:mt-5 flex flex-col items-center"},ie={class:"font-medium"},se={class:"flex flex-row justify-center mt-4"},ne={class:"flex flex-row items-start mt-3 lg:mt-4"},re=m("div",{class:"mt-4"},null,-1);function ce(t,c,g,o,y,u){const C=r("Head"),s=r("ps-label"),n=r("ps-input"),_=r("ps-button"),h=r("ps-line"),w=r("ps-checkbox-value"),P=r("ps-route-link"),x=r("font-awesome-icon"),S=r("ps-loading-dialog"),A=r("ps-error-dialog"),E=r("ps-success-dialog-2"),L=r("privacy-modal");return v(),W(j,null,[e(C,{title:t.$t("login__login_title")},null,8,["title"]),m("div",null,[m("div",oe,[m("div",te,[o.userProvider.userResource.message!=""?(v(),k(s,{key:0,class:"content-center text-general-200 dark_text-feAchromatic-50 px-4 py-4 rounded-md"},{default:l(()=>[i(a(o.userProvider.userResource.message),1)]),_:1})):R("",!0)]),m("div",le,[e(s,{class:"font-medium text-2xl mt-8 mx-auto lg:text-3xl mb-4"},{default:l(()=>[i(a(t.$t("login__login_title")),1)]),_:1}),e(s,{class:"mt-4 lg:mt-5 font-medium text-base lg:text-xl"},{default:l(()=>[i(a(t.$t("login__email")),1)]),_:1}),e(n,{class:"lg:mt-2 mt-1",type:"email",placeholder:t.$t("login__email_placeholder"),onKeyup:U(o.normalLoginClicked,["enter"]),value:o.email,"onUpdate:value":c[0]||(c[0]=f=>o.email=f),onKeypress:o.validateEmail},null,8,["placeholder","onKeyup","value","onKeypress"]),o.validationEmail?(v(),k(s,{key:0,class:"lg:mt-2 mt-1 w-full",textColor:"text-fePrimary-500"},{default:l(()=>[i(a(t.$t("login__email_required_error")),1)]),_:1})):R("",!0),e(s,{class:"mt-4 lg:mt-5 font-medium text-base lg:text-xl"},{default:l(()=>[i(a(t.$t("login__password")),1)]),_:1}),e(n,{class:"lg:mt-2 mt-1",type:"password",placeholder:t.$t("login__password_placeholder"),onKeyup:U(o.normalLoginClicked,["enter"]),value:o.password,"onUpdate:value":c[1]||(c[1]=f=>o.password=f),autocomplete:"on"},null,8,["placeholder","onKeyup","value"]),o.userProvider.loading.value?(v(),k(_,{key:1,textSize:"text-xs lg:text-base",class:"mt-4 lg:mt-5 w-full py-3",disabled:!0},{default:l(()=>[i(a(t.$t("login__loading")),1)]),_:1})):(v(),k(_,{key:2,textSize:"text-xs lg:text-base",class:"mt-4 lg:mt-5 py-3",onClick:o.normalLoginClicked,disabled:!1},{default:l(()=>[i(a(t.$t("login__login")),1)]),_:1},8,["onClick"])),m("div",ae,[e(s,{textColor:"text-feSecondary-400 dark_text-feAchromatic-500",class:"cursor-pointer font-light text-xs lg:text-sm",onClick:o.openForgotPassword},{default:l(()=>[i(a(t.$t("login__forgot_password")),1)]),_:1},8,["onClick"]),e(s,{textColor:"text-feSecondary-400 dark_text-feAchromatic-500",class:"cursor-pointer mt-3 font-light text-xs lg:text-sm",onClick:o.openRegister},{default:l(()=>[i(a(t.$t("login__new_here"))+" ",1),m("span",ie,a(t.$t("login__sign_up")),1)]),_:1},8,["onClick"])]),m("div",se,[e(h,{class:"w-full lg:h-3 h-2 border border-s-0 border-e-0 border-feSecondary-400 dark_border-feAchromatic-500"}),e(s,{class:"px-1 font-medium text-sm lg:text-base"},{default:l(()=>[i(a(t.$t("login__or")),1)]),_:1}),e(h,{class:"w-full lg:h-3 h-2 border border-s-0 border-e-0 border-feSecondary-400 dark_border-feAchromatic-500"})]),m("div",ne,[e(w,{title:"",class:"lg:mt-1 mt-0.5",value:o.agreePrivacyPolicy,"onUpdate:value":c[2]||(c[2]=f=>o.agreePrivacyPolicy=f),onClick:o.agreePrivacyPolicyClicked},null,8,["value","onClick"]),e(s,{class:"me-2 font-medium text-sm lg:text-base"},{default:l(()=>[i(a(t.$t("login__check_privacy_policy")),1)]),_:1}),e(P,{to:{name:"privacy"},class:"underline cursor-pointer text-sm"},{default:l(()=>[e(s,{class:"font-medium text-sm lg:text-base"},{default:l(()=>[i(a(t.$t("login__privacy_policy")),1)]),_:1})]),_:1})]),e(_,{textSize:"text-xs lg:text-base",class:"mt-3 lg:mt-4 py-3 flex justify-center",onClick:o.phoneloginclicked},{default:l(()=>[e(x,{icon:["fas","phone"],class:"text-feAchromatic-50 dark_text-feAchromatic-900 text-xl me-2"}),i(" "+a(t.$t("login__login_with_phone")),1)]),_:1},8,["onClick"]),e(_,{textSize:"text-xs lg:text-base",class:"mt-3 lg:mt-4 py-3 flex justify-center",theme:"bg-feInfo-600 hover_bg-feInfo-700 text-feAchromatic-50 px-4 py-2",onClick:o.facebookloginclicked},{default:l(()=>[e(x,{icon:["fab","facebook-f"],class:"text-feAchromatic-50 text-xl me-2"}),i(" "+a(t.$t("login__login_with_facebook")),1)]),_:1},8,["onClick"]),e(_,{textSize:"text-xs lg:text-base",class:"mt-3 lg:mt-4 py-3 flex justify-center",theme:"bg-feWarning-600 hover_bg-feWarning-700 text-feAchromatic-50 px-4 py-2",id:"signinBtn",onClick:o.googleloginclicked},{default:l(()=>[e(x,{icon:["fab","google"],class:"text-feAchromatic-50 text-xl me-2"}),i(" "+a(t.$t("login__login_with_google")),1)]),_:1},8,["onClick"]),e(_,{textSize:"text-xs lg:text-base",class:"mt-3 lg:mt-4 py-3 flex justify-center mb-5",theme:"bg-feAchromatic-900 hover_bg-feAchromatic-700 text-feAchromatic-50 px-4 py-2",onClick:o.appleloginclicked},{default:l(()=>[e(x,{icon:["fab","apple"],class:"text-feAchromatic-50 text-xl me-2"}),i(" "+a(t.$t("login__login_with_apple")),1)]),_:1},8,["onClick"]),re])]),e(S,{ref:"ps_loading_dialog",class:"z-40"},null,512),e(A,{ref:"ps_error_dialog"},null,512),e(E,{ref:"ps_success_dialog"},null,512),e(L,{ref:"privacy_modal"},null,512)])],64)}var He=X(ee,[["render",ce]]);export{He as default};
