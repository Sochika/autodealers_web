import{H as oe,i as V,J as g,r as d,Q as te,o as i,c,b as o,w as r,a as s,m as re,g as x,p as n,t as a,f as D,F as E,q as $,h as se,O as q}from"./app.js";import ae from"./PsContentContainer.js";import le from"./PsLabelHeader42.js";import ie from"./PsCard2.js";import ne from"./PsLabel2.js";import de from"./PsLabelCaption3.js";import me from"./PsButton2.js";import ce from"./RatingShow.js";import ue from"./PsRouteLink.js";import _e from"./PsIcon2.js";import fe from"./PsAdSense.js";import pe from"./ItemHorizontalItem.js";import ge from"./ItemHorizontalSkeletorItem.js";import{u as Se}from"./ProductStore.js";import{P as he}from"./ProductParameterHolder.js";import be from"./PsConfirmDialog.js";import xe from"./PsLoadingDialog3.js";import{U as we}from"./UserBlockParameterHolder.js";import{P as ke}from"./PsValueStore.js";import{U as ve,u as ye}from"./UserStore.js";import{U as Pe}from"./UserFollowHolder.js";import{b as ee}from"./PsApiService2.js";import{P as J}from"./ps_constants.js";import{u as Ie}from"./AppInfoStore.js";import{A as Ce}from"./AppInfoParameterHolder.js";/* empty css            */import{P as Ue}from"./PsUtils.js";import Le from"./PsFrontendLayout.js";import He from"./PsBreadcrumb22.js";import{h as Ne}from"./moment.js";import{_ as Ae}from"./plugin-vue_export-helper.js";import"./vue-router.esm-bundler.js";import"./PsObject.js";import"./DefaultPhoto.js";import"./PsLabelTitle4.js";import"./format.min.js";import"./Product.js";import"./Category.js";import"./DefaultIcon.js";import"./SubCategory.js";import"./ItemLocationTownship.js";import"./User.js";import"./RatingDetail.js";import"./PsValueHolder.js";import"./FavouriteItemStore.js";import"./PsSepetetedStore.js";import"./FollowItemParameterHolder.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsLine.js";import"./PsLabelTitle2.js";import"./ApiStatus.js";import"./vue-skeletor.esm.js";import"./UserListParameterHolder.js";import"./FooterView.js";import"./FooterLinkSection.js";import"./PsLink.js";import"./PsNavTabBar.js";import"./PsDropdown.js";import"./PsDropdownSelect.js";import"./PsIconToggle.js";import"./LocationModal.js";import"./PsInputWithLeftIcon.js";import"./LocationParameterHolder.js";import"./ItemLocationTownshipStore.js";import"./PsNavBar.js";import"./index.esm.js";import"./auth.esm.js";import"./UserUnReadMessageParameterHolder.js";import"./PsNotificationBox.js";import"./NotificationStore.js";import"./NotiUnRegisterHolder.js";const ze={name:"OtherProfileView",components:{PsIcon:_e,PsBreadcrumb2:He,PsContentContainer:ae,PsLabelHeader4:le,PsCard:ie,PsLabel:ne,PsLabelCaption:de,PsButton:me,Rating:ce,ItemHorizontalItem:pe,ItemHorizontalSkeletorItem:ge,PsConfirmDialog:be,PsLoadingDialog:xe,PsRouteLink:ue,PsAdSense:fe,Head:oe},layout:Le,props:["query","dateFormat"],setup(l){var z,y;const S=V(),O=V(),e=V(),H=new we,h=(y=(z=l.query)==null?void 0:z.userId)==null?void 0:y.toString(),b=Se(),k=new he().getLatestParameterHolder();k.addedUserId=h,b.resetProductList(h,k);const t=ke().getLoginUserId(),v=new ve().getOtherUserData(),f=new Pe,j=Ie(),w=new Ce;w.userId=t,v.loginUserId=t,v.id=h;let _=ye("other");N();async function N(){await _.loadOtherUser(t,v);const u=await _.user.data?Ne(_.user.data.addedDate).format(l.dateFormat):"";S.value=u}b.paramHolder.addedUserId=h;const F=b.paramHolder.getUrlParamsAndQuery();async function M(){var u,p,P,I;t&&t!=J.NO_LOGIN_USER?(e.value.openModal(),((u=_.user.data)==null?void 0:u.isFollowed)=="1"?e.value.message=g("other_profile__removing_user_from_follower_list"):e.value.message=g("other_profile__adding_user_to_follower_list"),f.userId=t,f.followedUserId=(I=(P=(p=_.user)==null?void 0:p.data)==null?void 0:P.userId)!=null?I:"",await _.postUserFollow(f),N(),e.value.closeModal()):q.Inertia.get(route("login"))}function B(u){t&&t!=J.NO_LOGIN_USER?O.value.openModal(g("other_profile__confirm"),g("other_profile__confirm_to_block_user"),g("other_profile__block"),g("other_profile__cancel"),()=>{A(u)},()=>{Ue.log("Cancel")}):q.Inertia.get(route("login"))}async function A(u){H.loginUserId=t,H.addedUserId=u,e.value.openModal(),e.value.message=g("other_profile__adding_user_to_block_list");const p=await _.blockUser(H,t);e.value.closeModal(),p.status!=ee.ERROR&&p.status==ee.SUCCESS&&q.Inertia.get(route("dashboard"))}function R(){b.loadItemList(h,k)}return{itemStore:b,userStore:_,userItemParams:F,blockClicked:B,ps_confirm_dialog:O,psloading:e,followClick:M,LoginUserId:t,doBlock:A,appInfoStore:j,PsConst:J,JoinedDate:S,loadMoreActivePost:R}},computed:{breadcrumb(){return[{label:g("fe__other_profile"),url:route("fe_profile")},{label:this.userStore.user.data?this.userStore.user.data.userName:"",color:"text-fePrimary-500"}]}}},De={class:"mt-32 mb-10"},Oe={class:"xl:mb-7 lg:mb-11 sm:mb-7 mb-9"},je={class:"grid lg:grid-cols-12 sm:grid-cols-8 grid-cols-4 gap-4 sm:gap-3.5 lg:gap-4"},Fe={class:"w-full col-span-4 sm:col-span-2 lg:col-span-3 mt-2"},Me={class:""},Be={class:"w-full"},Re={class:"w-32 h-32 rounded-full mx-auto relative"},Ve={alt:"Placeholder",class:"rounded-full w-full h-full object-cover"},Ee={key:0,class:"w-8 h-8 bg-feInfo-500 rounded-full p-1 absolute bottom-0 right-0"},qe={class:"flex flex-col justify-center mb-2 mt-2"},Je={class:"flex items-center content-center justify-center px-4 mb-3 cursor-pointer"},Ge={class:""},Qe={class:"cursor-pointer mb-2 flex justify-between"},Te={class:"cursor-pointer flex justify-between"},We={key:0},Ke={key:1},Xe={key:1,class:"mt-5 py-2 px-4 text-center w-full border bg-feAchromatic-50 border-1 border-feSecondary-300 dark_border-feSecondary-500 dark_bg-feSecondary-800 rounded lg:w-full mx-auto"},Ye={key:0,class:"w-full col-span-4 sm:col-span-6 lg:col-span-9"},Ze={class:"w-full sm:mt-2"},$e={class:"w-full h-full grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},eo={key:0,class:"flex justify-center mt-6 mb-4"},oo={class:"mx-auto"},to={key:1,class:"w-full col-span-4 sm:col-span-6 lg:col-span-9 mt-4 mb-6"},ro={class:"w-full"},so={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},ao={key:2,class:"col-span-4 sm:col-span-6 lg:col-span-9 mt-2 mb-6 w-full flex justify-center"};function lo(l,S,O,e,H,h){const b=d("Head"),k=d("ps-breadcrumb-2"),G=d("ps-icon"),t=d("ps-label"),v=d("rating"),f=d("ps-route-link"),j=d("ps-card"),w=d("ps-button"),_=d("ps-label-header-4"),N=d("item-horizontal-item"),F=d("ps-ad-sense"),M=d("item-horizontal-skeletor-item"),B=d("ps-confirm-dialog"),A=d("ps-loading-dialog"),R=d("ps-content-container"),z=te("lazy");return i(),c(E,null,[o(b,{title:l.$t("fe__other_profile")},null,8,["title"]),o(R,null,{content:r(()=>{var y,u,p,P,I,Q,T,W,K;return[s("div",De,[s("div",Oe,[o(k,{items:h.breadcrumb,class:""},null,8,["items"])]),s("div",null,[s("div",je,[s("div",Fe,[o(j,{class:"lg:rounded-lg bg-feSecondary-50 dark_bg-feSecondary-800 p-4"},{default:r(()=>{var m,C,U,L,X;return[s("div",Me,[s("div",Be,[s("div",Re,[re(s("img",Ve,null,512),[[z,{src:l.$page.props.thumb1xUrl+"/"+((m=e.userStore.user.data)==null?void 0:m.userCoverPhoto),loading:l.$page.props.sysImageUrl+"/loading_gif.gif",error:l.$page.props.sysImageUrl+"/default_profile.png"}]]),((C=e.userStore.user.data)==null?void 0:C.isVerifybluemark)=="1"?(i(),c("div",Ee,[o(G,{name:"bluemark",textColor:"text-feSecondary-50",w:"24",h:"24"})])):x("",!0)])]),s("div",qe,[o(t,{textColor:"dark_text-feSecondary-200",class:"text-center text-xl font-semibold"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.userName:""),1)]),_:1})]),o(f,{to:{name:"fe_review_list",query:{user_id:(U=e.userStore.user.data)==null?void 0:U.userId}}},{default:r(()=>{var Y,Z;return[s("div",Je,[o(v,{rating:e.userStore.user.data?(Z=(Y=e.userStore.user)==null?void 0:Y.data)==null?void 0:Z.overallRating:0,maxStars:5,size:"md",iconColor:"text-feWarning-500"},null,8,["rating"])])]}),_:1},8,["to"]),o(t,{textColor:"text-feSecondary-600 dark_text-feSecondary-400",class:"text-sm mb-3 text-center"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.ratingCount:"")+" "+a(l.$t("profile__reviews")),1)]),_:1}),e.userStore.user.data&&e.userStore.user.data.isShowEmail=="1"?(i(),D(t,{key:0,textColor:"dark_text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.userEmail:""),1)]),_:1})):x("",!0),e.userStore.user.data&&e.userStore.user.data.isShowPhone=="1"?(i(),D(t,{key:1,textColor:"dark_text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.userPhone:""),1)]),_:1})):x("",!0),o(t,{textColor:"dark_text-feSecondary-200",class:"text-sm mb-3 text-center"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.userAboutMe:""),1)]),_:1})]),s("div",Ge,[o(t,{textColor:"text-feSecondary-500 dark_text-feSecondary-400",class:"text-xs mb-3 text-center"},{default:r(()=>[n(a(l.$t("profile__joined_on"))+" "+a(e.JoinedDate),1)]),_:1}),o(f,{to:{name:"fe_follower_list",query:{userId:(L=e.userStore.user.data)==null?void 0:L.userId}}},{default:r(()=>[s("div",Qe,[o(t,{class:"text-sm"},{default:r(()=>[n(a(l.$t("other_profile__followers")),1)]),_:1}),o(t,{class:"font-semibold text-sm"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.followerCount:"0"),1)]),_:1})])]),_:1},8,["to"]),o(f,{to:{name:"fe_following_list",query:{userId:(X=e.userStore.user.data)==null?void 0:X.userId}}},{default:r(()=>[s("div",Te,[o(t,{class:"text-sm"},{default:r(()=>[n(a(l.$t("other_profile__followings")),1)]),_:1}),o(t,{class:"font-semibold text-sm"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.followingCount:"0"),1)]),_:1})])]),_:1},8,["to"])])]}),_:1}),((y=e.userStore.user.data)==null?void 0:y.userId)!=e.LoginUserId?(i(),c("div",{key:0,class:"text-center mt-6",onClick:S[0]||(S[0]=(...m)=>e.followClick&&e.followClick(...m))},[((u=e.userStore.user.data)==null?void 0:u.isFollowed)=="0"?(i(),c("div",We,[o(w,{rounded:"rounded",textSize:"text-sm",class:"w-full mx-auto"},{default:r(()=>[n(a(l.$t("other_profile__follow")),1)]),_:1})])):((p=e.userStore.user.data)==null?void 0:p.isFollowed)=="1"?(i(),c("div",Ke,[o(w,{rounded:"rounded",textSize:"text-sm",class:"w-full mx-auto"},{default:r(()=>[n(a(l.$t("other_profile__unfollow")),1)]),_:1})])):x("",!0)])):x("",!0),((T=(Q=(I=(P=e.appInfoStore)==null?void 0:P.appInfo)==null?void 0:I.data)==null?void 0:Q.psAppSetting)==null?void 0:T.isBlockUser)==e.PsConst.ONE?(i(),c("div",Xe,[o(t,{class:"text-sm cursor-pointer",onClick:S[1]||(S[1]=m=>{var C,U,L;return e.blockClicked((L=(U=(C=e.userStore.user)==null?void 0:C.data)==null?void 0:U.userId)!=null?L:"")})},{default:r(()=>[n(a(l.$t("other_profile__block_user")),1)]),_:1})])):x("",!0)]),((W=e.itemStore.itemList)==null?void 0:W.data)!=null?(i(),c("div",Ye,[s("div",Ze,[o(_,{class:"mt-8 mb-6 sm:mt-0 font-medium"},{default:r(()=>[n(a(e.userStore.user.data?e.userStore.user.data.userName+"'s":"")+" "+a(l.$t("other_profile__active_post")),1)]),_:1}),s("div",$e,[(i(!0),c(E,null,$(e.itemStore.itemList.data,m=>(i(),c("div",{class:"w-full h-full",key:m.id},[o(f,{to:{name:"item",params:{itemName:m.title.split(" ").join("-").toLowerCase(),imgName:m.defaultPhoto.imgPath},query:{item_id:m.id,item_name:m.title.split(" ").join("-").toLowerCase()}}},{default:r(()=>[o(N,{item:m},null,8,["item"])]),_:2},1032,["to"])]))),128))])]),((K=e.itemStore.itemList)==null?void 0:K.data)!=null&&e.itemStore.isNoMoreRecord.value==!1?(i(),c("div",eo,[e.itemStore.loading.value==!1?(i(),D(w,{key:0,onClick:se(e.loadMoreActivePost,["prevent"]),class:"flex flex-row",theme:"bg-fePrimary-500 dark_bg-feAccent-500 text-feAchromatic-50 dark_text-feAchromatic-900 capitalize px-4 py-1"},{default:r(()=>[n(a(l.$t("blog_list__load_more")),1)]),_:1},8,["onClick"])):(i(),D(w,{key:1,class:"mx-auto mt-8",disabled:!0},{default:r(()=>[n(a(l.$t("list__loading")),1)]),_:1}))])):x("",!0),s("div",oo,[o(F,{adFormat:"horizontal"})])])):e.itemStore.itemList!=null&&e.itemStore.loading.value?(i(),c("div",to,[s("div",ro,[s("div",so,[(i(),c(E,null,$(6,m=>s("div",{class:"w-full",key:m},[o(M)])),64))])])])):(i(),c("div",ao,[o(t,{textColor:"text-feSecondary-500 dark_text-feAchromatic-50 lg:text-xl sm:text-lg text-base font-medium",class:"mt-10 flex-grow-0 mx-auto"},{default:r(()=>[n(a(l.$t("list__no_result")),1)]),_:1})]))])])]),o(B,{ref:"ps_confirm_dialog"},null,512),o(A,{ref:"psloading",isClickOut:!1},null,512)]}),_:1})],64)}var It=Ae(ze,[["render",lo]]);export{It as default};
