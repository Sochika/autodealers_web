import{aA as q,d as X,aB as F,i as h,j as Y,r as _,Q as Z,o as p,c as v,a,m as T,b as t,w as o,p as u,t as n,g as P,f as j,T as ee,n as te,O as B,J as L}from"./app.js";import{u as oe}from"./UserStore.js";import{P as N}from"./PsValueStore.js";import{f as re}from"./index.esm.js";import"./auth.esm.js";import{u as ae,U as se}from"./UserUnReadMessageParameterHolder.js";import ne from"./PsIcon2.js";import le from"./PsDropdown.js";import ie from"./PsLine.js";import Q from"./PsRouteLink.js";import ue from"./PsLabel2.js";import de from"./PsButton2.js";import"./ps_constants.js";import me from"./PsConfirmDialog.js";import{P as pe}from"./PsUtils.js";import{u as ce}from"./AppInfoStore.js";import{_ as fe}from"./plugin-vue_export-helper.js";import"./PsApiService2.js";import"./User.js";import"./PsObject.js";import"./RatingDetail.js";import"./DefaultPhoto.js";import"./PsSepetetedStore.js";import"./UserListParameterHolder.js";import"./ApiStatus.js";import"./PsModal2.js";import"./vue-neat-modal.js";const _e=q(()=>F(()=>import("./UserSettingModal.js"),["UserSettingModal.js","PsModal2.js","PsModal2.css","vue-neat-modal.js","vue-neat-modal.css","app.js","app.css","PsLine.js","plugin-vue_export-helper.js","PsLabel2.js","PsRouteLink.js","CreditCardModal.js","PsLabelHeader42.js","PsInput2.js","PsButton2.js","ProfileUpdateViewHolder.js","PsLoadingDialog3.js","PsLabelTitle2.js","UserProvider.js","PsApiService2.js","User.js","PsObject.js","RatingDetail.js","UserListParameterHolder.js","PsValueStore.js","DefaultPhoto.js","ps_constants.js","UserRegisterParameterHolder.js","PhoneLoginParameterHolder.js","ApiStatus.js","PsErrorDialog2.js","ProductStore.js","ProductParameterHolder.js","Product.js","Category.js","DefaultIcon.js","SubCategory.js","ItemLocationTownship.js","PsSepetetedStore.js","PasswordUpdateModal.js","PsLabelCaption3.js","PsSecondaryButton.js","PsErrorDialog.js","PsIcon2.js","PsSuccessDialog2.js","PsLoadingDialog2.js","UserStore.js","PsInputWithRightIcon2.js","PsConfirmDialog.js","AppInfoStore.js","AppInfoParameterHolder.js","PsUtils.js","NotificationStore.js","NotiUnRegisterHolder.js"])),ge=q(()=>F(()=>import("./SearchModal.js"),["SearchModal.js","app.js","app.css","PsModal2.js","PsModal2.css","vue-neat-modal.js","vue-neat-modal.css","PsLine.js","plugin-vue_export-helper.js","PsLabelTitle2.js","PsLabel2.js","PsButton2.js","PsLink.js","PsSuccessDialog3.js","PsIcon2.js","PsInputWithLeftIcon.js","PsRouteLink.js","ps_constants.js","PsApiService2.js","PsObject.js","Product.js","DefaultPhoto.js","Category.js","DefaultIcon.js","SubCategory.js","ItemLocationTownship.js","User.js","RatingDetail.js","PsSepetetedStore.js","ApiStatus.js","PsValueStore.js"])),he=X({components:{PsIcon:ne,PsDropdown:le,PsLine:ie,PsRouteLink:Q,PsLabel:ue,PsButton:de,PsRouteLink:Q,PsConfirmDialog:me,UserSettingModal:_e,SearchModal:ge},props:{topOfPage:{type:Boolean,default:!1}},setup(e){const l=h(),V=h(),c=h(!1),g=oe(),O=h(),s=ae(),d=new se,i=h(),b=ce(),C=h();let S=N();const y=S.getLoginUserId();d.userId=y;async function w(){await s.postUserUnreadMessageCount(d)}w(),Y(async()=>{H(),await w});function k(){N.psValueStore.loadData(),S=N.psValueStore}function U(){B.Inertia.get(route("dashboard"))}function $(x=!0){x&&(c.value=!c.value)}function I(){V.value.openModal()}function r(x,D){}function m(x,D){}function M(){l.value.openModal(L("core__be_logout"),L("logout_dialog_msg"),L("chat__confirm"),L("chat__cancel"),()=>{re.auth().signOut(),B.Inertia.post(route("logout"))},()=>{pe.log("cancel")})}function A(){c.value&&(c.value=!1),B.Inertia.get(route("login"))}function z(){c.value&&(c.value=!1),B.Inertia.get(route("login"))}const f=h(!0);function G(){localStorage.isDarkMode!=null&&localStorage.isDarkMode=="true"?(localStorage.isDarkMode="false",f.value=!1):(localStorage.isDarkMode="true",f.value=!0),E()}E();function E(){localStorage.isDarkMode!=null&&localStorage.isDarkMode=="true"?(document.documentElement.classList.add("dark"),f.value=!0):(document.documentElement.classList.remove("dark"),f.value=!1)}function K(){C.value.openModal()}async function H(){var x,D,R;if(y!="nologinuser"){await g.loadUser(y);const J=await g.user.data?g.user.data.roleId:"",W=await g.user.data?g.user.data.isVerifybluemark:"";((x=b.appInfo.data)==null?void 0:x.uploadSetting)=="admin"&&(J==1?i.value=!0:i.value=!1),((D=b.appInfo.data)==null?void 0:D.uploadSetting)=="admin-bluemark"&&(J==1||W==1?i.value=!0:i.value=!1),((R=b.appInfo.data)==null?void 0:R.uploadSetting)=="all"&&(i.value=!0)}else i.value=!0}return{toggleDarkMode:G,userunreadmsgStore:s,userProfile:O,isDarkMode:f,activeMobileMenu:c,psValueStore:S,userProvider:g,gotToHome:U,enter:r,leave:m,toggleMobileMenu:$,clickLogout:M,loginClicked:z,userNameClicked:k,registerClicked:A,searchClicked:I,ps_confirm_dialog:l,appInfoStore:b,user_setting_modal:C,search_modal:V,openUserSetting:K,loginUserId:y,isSubmitButtonShow:H,submitButtonShow:i}},computed:{}}),ve={class:"lg:w-large xl:w-feLarge mx-4 md:mx-6 lg:mx-auto flex items-center justify-between mt-3"},be={class:"md:flex gap-6 hidden"},ye={class:"h-10 cursor-pointer"},xe={class:"flex gap-6 items-center"},Se={key:0,class:"flex gap-6 justify-between items-center"},ke={class:"relative"},Pe={key:0,class:"me-6 p-0.5 text-xs font-semibold rounded-full bg-fePrimary-500 text-feAchromatic-50 absolute -top-2 -right-8"},Ce={class:"relative"},we={key:0,class:"me-6 p-0.5 text-xs font-semibold rounded-full bg-fePrimary-500 text-feAchromatic-50 absolute -top-2 -right-8"},Ue={class:"flex items-center"},$e={class:"h-8 w-8 rounded-full"},Ie=["alt"],Me=["src","alt"],Ae={class:"rounded-md shadow-xs w-[280px]"},ze={class:"z-30"},De=a("hr",{class:"mt-2 mb-2 mx-2"},null,-1),Be=a("hr",{class:"mt-2 mb-2 mx-2"},null,-1),Le={class:"hidden lg:inline"},Ve={key:0,class:"border border-b-2 text-fePrimary-500 dark_text-feSecondary-900 h-auto mt-3 bg-feAchromatic-50 dark_bg-feAchromatic-900 pb-1"},Te={class:"flex flex-col p-5 gap-6"},je={class:"h-10"};function Ne(e,l,V,c,g,O){var U,$,I;const s=_("ps-route-link"),d=_("ps-icon"),i=_("ps-label"),b=_("ps-dropdown"),C=_("ps-button"),S=_("ps-confirm-dialog"),y=_("user-setting-modal"),w=_("search-modal"),k=Z("lazy");return p(),v("nav",{class:te(["flex flex-col fixed w-full h-16 z-40 bg-feAchromatic-50 dark_bg-feAchromatic-900 shadow",e.topOfPage?"mt-10":"mt-0"])},[a("div",ve,[a("div",be,[a("div",ye,[T(a("img",{onClick:l[0]||(l[0]=(...r)=>e.gotToHome&&e.gotToHome(...r)),alt:"Navbar logo",width:"40px",height:"40px",class:"rounded:xl w-auto h-10 object-cover"},null,512),[[k,{src:e.$page.props.thumb3xUrl+"/"+((I=($=(U=e.appInfoStore.appInfo.data)==null?void 0:U.frontendConfigSetting)==null?void 0:$.frontendLogo)==null?void 0:I.imgPath),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]])]),t(s,{to:{name:"dashboard"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__home")),1)]),_:1}),t(s,{to:{name:"fe_category.index"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("category_list__title")),1)]),_:1},8,["to"]),t(s,{to:{name:"fe_blog"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__blogs_title")),1)]),_:1}),t(s,{to:{name:"fe_contact_us"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__contact_us_title")),1)]),_:1})]),a("div",{class:"block md:hidden cursor-pointer",onClick:l[1]||(l[1]=(...r)=>e.toggleMobileMenu&&e.toggleMobileMenu(...r))},[t(d,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark_text-feAchromatic-50",name:"menu",h:"24",w:"24"})]),a("div",xe,[t(d,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark_text-feAchromatic-50 hover_text-fePrimary-500",name:"search",h:"24",w:"24",viewBox:"0 0 23 23",onClick:l[2]||(l[2]=r=>e.searchClicked())}),e.$page.props.authUser!=null?(p(),v("div",Se,[t(s,{to:{name:"fe_chat_list"}},{default:o(()=>{var r,m,M,A,z,f;return[a("div",ke,[t(d,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark_text-feAchromatic-50 hover_text-fePrimary-500",name:"message",h:"24",w:"24",viewBox:"0 0 23 23"}),parseInt((r=e.userunreadmsgStore.unreadCount.data)==null?void 0:r.buyerUnreadCount)+parseInt((m=e.userunreadmsgStore.unreadCount.data)==null?void 0:m.sellerUnreadCount)?(p(),v("div",Pe,n(parseInt((M=e.userunreadmsgStore.unreadCount.data)==null?void 0:M.buyerUnreadCount)+parseInt((A=e.userunreadmsgStore.unreadCount.data)==null?void 0:A.sellerUnreadCount)?parseInt((z=e.userunreadmsgStore.unreadCount.data)==null?void 0:z.buyerUnreadCount)+parseInt((f=e.userunreadmsgStore.unreadCount.data)==null?void 0:f.sellerUnreadCount):""),1)):P("",!0)])]}),_:1}),t(s,{to:{name:"fe_notification_list"}},{default:o(()=>{var r,m;return[a("div",Ce,[t(d,{class:"cursor-pointer",textColor:"text-feSecondary-800 dark_text-feAchromatic-50 hover_text-fePrimary-500",name:"bell-outline",h:"24",w:"24",viewBox:"0 -2 18 23"}),(r=e.userunreadmsgStore.unreadCount.data)!=null&&r.notiUnreadCount?(p(),v("div",we,n((m=e.userunreadmsgStore.unreadCount.data)==null?void 0:m.notiUnreadCount),1)):P("",!0)])]}),_:1}),t(b,{horizontalAlign:"center",class:"ms-3 sm:ms-4 lg:ms-6 xxl:ms-8 w-full",h:"h-auto",boxPositioning:"mt-[16px] translate-x-16 lg:translate-x-20 xl:translate-x-24"},{select:o(()=>{var r,m;return[a("div",Ue,[a("div",$e,[(r=e.$page.props.authUser)!=null&&r.user_cover_photo?T((p(),v("img",{key:0,class:"object-cover h-8 w-8 rounded-full cursor-pointer",alt:e.$t("core__be_profile")},null,8,Ie)),[[k,{src:e.$page.props.uploadUrl+"/"+((m=e.$page.props.authUser)==null?void 0:m.user_cover_photo),loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_profile.png"}]]):(p(),v("img",{key:1,class:"object-cover h-8 w-8 rounded-full cursor-pointer",src:e.$page.props.uploadUrl+"/default_profile.png",alt:e.$t("core__be_profile")},null,8,Me))]),t(d,{name:"downArrow"})])]}),list:o(()=>[a("div",Ae,[a("div",ze,[t(s,{to:{name:"fe_profile"},textSize:"text-sm",class:"m-2 mt-4 flex border p-2 rounded hover_bg-fePrimary-50 dark_hover_bg-fePrimary-900 cursor-pointer justify-center"},{default:o(()=>[t(i,{textColor:"text-feAchromatic-500"},{default:o(()=>[u(n(e.$t("core__view_profile")),1)]),_:1})]),_:1}),De,t(s,{to:{name:"fe_favourite_items"},textSize:"text-sm",class:"w-full flex p-4 hover_bg-fePrimary-50 dark_hover_bg-fePrimary-900 cursor-pointer items-center"},{default:o(()=>[t(d,{name:"heartOutline",class:"ms-2"}),t(i,{class:"ms-2"},{default:o(()=>[u(n(e.$t("core__fe_favourites")),1)]),_:1})]),_:1}),a("button",{class:"w-full flex p-4 hover_bg-fePrimary-50 dark_hover_bg-fePrimary-900 cursor-pointer items-center",hover:"",focus:"",colors:"",onClick:l[3]||(l[3]=(...r)=>e.openUserSetting&&e.openUserSetting(...r))},[t(d,{class:"ms-2",name:"setting"}),t(i,{class:"ms-2",textColor:""},{default:o(()=>[u(n(e.$t("profile__user_setting")),1)]),_:1})]),Be,e.$page.props.canAccessAdminPanel?(p(),j(s,{key:0,to:{name:"admin.index"},textSize:"text-sm",class:"w-full flex p-4 hover_bg-fePrimary-50 dark_hover_bg-fePrimary-900 cursor-pointer items-center"},{default:o(()=>[t(d,{name:"refresh",class:"ms-2"}),t(i,{class:"ms-2"},{default:o(()=>[u(n(e.$t("core__fe_switch_to_admin")),1)]),_:1})]),_:1},8,["to"])):P("",!0),a("button",{onClick:l[4]||(l[4]=(...r)=>e.clickLogout&&e.clickLogout(...r)),class:"w-full flex p-4 hover_bg-fePrimary-50 dark_hover_bg-fePrimary-900 cursor-pointer items-center"},[t(d,{name:"signOut",class:"ms-2",textColor:"text-fePrimary-500"}),t(i,{class:"ms-2",textColor:"text-fePrimary-500"},{default:o(()=>[u(n(e.$t("core__be_logout")),1)]),_:1})])])])]),_:1})])):(p(),j(i,{key:1,onClick:e.loginClicked,class:"font-medium text-sm dark_border-feAccent-500 px-4 py-2 cursor-pointer",textColor:"text-fePrimary-500"},{default:o(()=>[u(n(e.$t("ps_nav_bar__login")),1)]),_:1},8,["onClick"])),e.submitButtonShow==!0?(p(),j(s,{key:2,to:{name:e.$page.props.authUser!=null?"fe_item_entry":"login"}},{default:o(()=>[t(C,{padding:"lg:px-4 lg:py-2 p-2"},{default:o(()=>[t(d,{name:"plus-circle",class:"me-0 lg:me-2",h:"24",w:"24"}),a("span",Le,n(e.$t("ps_nav_bar__btn_submit_ad")),1)]),_:1})]),_:1},8,["to"])):P("",!0)])]),t(ee,null,{default:o(()=>[e.activeMobileMenu?(p(),v("div",Ve,[a("div",Te,[a("div",je,[T(a("img",{onClick:l[5]||(l[5]=(...r)=>e.gotToHome&&e.gotToHome(...r)),alt:"Navbar logo",width:"40px",height:"40px",class:"rounded:xl w-auto h-10 object-cover"},null,512),[[k,{src:e.$page.props.thumb1xUrl+"/"+e.$page.props.backendLogo.img_path,loading:e.$page.props.sysImageUrl+"/loading_gif.gif",error:e.$page.props.sysImageUrl+"/default_photo.png"}]])]),t(s,{to:{name:"dashboard"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__home")),1)]),_:1}),t(s,{to:{name:"fe_category.index"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("category_list__title")),1)]),_:1},8,["to"]),t(s,{to:{name:"fe_blog"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__blogs_title")),1)]),_:1}),t(s,{to:{name:"fe_contact_us"},textSize:"text-sm text-feSecondary-800 hover_text-fePrimary-500 font-medium cursor-pointer",class:"px-4 py-2"},{default:o(()=>[u(n(e.$t("ps_nav_bar__contact_us_title")),1)]),_:1})])])):P("",!0)]),_:1}),t(S,{ref:"ps_confirm_dialog"},null,512),t(y,{ref:"user_setting_modal"},null,512),t(w,{ref:"search_modal"},null,512)],2)}var ct=fe(he,[["render",Ne]]);export{ct as default};
