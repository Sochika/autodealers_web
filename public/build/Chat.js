import{H as yt,i as v,O as xt,B as St,j as It,k as Ct,J as S,r as k,Q as vt,o as h,c as g,b as i,w as m,a,m as fe,p as f,t as c,f as At,h as Ze,g as P,n as Ce,F as $e,q as Ut,ay as Tt}from"./app.js";import{f as ve}from"./index.esm.js";import"./auth.esm.js";import kt from"./PsFrontendLayout.js";import bt from"./PsInput2.js";import wt from"./PsLine.js";import Pt from"./PsContentContainer.js";import Et from"./PsBreadcrumb22.js";import Ht from"./PsButton2.js";import Ot from"./PsDropdown.js";import{P as T}from"./PsUtils.js";import Bt from"./PsIcon2.js";import Dt from"./PsLabel2.js";import Rt from"./PsLabelTitle32.js";import Mt from"./PsRouteLink.js";import Lt from"./PsLabelCaption22.js";import{P as _}from"./ps_constants.js";import{u as Ft}from"./NotificationStore.js";import{P as Yt}from"./PsValueStore.js";import Nt from"./PsLoadingDialog3.js";import Gt from"./PsConfirmDialog2.js";import qt from"./PsErrorDialog2.js";import Vt from"./PsSuccessDialog3.js";import zt from"./ChatImageDetail.js";import{O as Jt,u as Xt}from"./OfferModal.js";import jt from"./ReviewModal.js";import{u as Kt}from"./GalleryStore.js";import{b as W}from"./PsApiService2.js";import{u as Qt}from"./UserStore.js";import{u as Wt}from"./AppInfoStore.js";import{A as Zt}from"./AppInfoParameterHolder.js";import{u as $t}from"./ChatHistoryListStore.js";import{u as es}from"./OfferStore.js";import{P as ts}from"./PsObject.js";import{f as ss}from"./format.min.js";import{u as os}from"./ProductStore.js";import{u as rs,U as is}from"./UserUnReadMessageParameterHolder.js";import{h as as}from"./moment.js";import{_ as ls}from"./plugin-vue_export-helper.js";import"./FooterView.js";import"./FooterLinkSection.js";import"./PsLink.js";import"./PsLabelCaption3.js";import"./ProductParameterHolder.js";import"./DefaultPhoto.js";import"./PsNavTabBar.js";import"./PsDropdownSelect.js";import"./PsIconToggle.js";import"./LocationModal.js";import"./PsModal2.js";import"./vue-neat-modal.js";import"./PsInputWithLeftIcon.js";import"./LocationParameterHolder.js";import"./ItemLocationTownship.js";import"./PsSepetetedStore.js";import"./ItemLocationTownshipStore.js";import"./PsNavBar.js";import"./PsConfirmDialog.js";import"./User.js";import"./RatingDetail.js";import"./UserListParameterHolder.js";import"./ApiStatus.js";import"./PsNotificationBox.js";import"./Product.js";import"./Category.js";import"./DefaultIcon.js";import"./SubCategory.js";import"./NotiUnRegisterHolder.js";import"./vue-router.esm-bundler.js";import"./PsLabelTitle2.js";import"./PsImageModal.js";import"./ItemEntryParameterHolder.js";import"./PsLabelHeader6.js";import"./ChatHistory.js";import"./SyncChatHistoryParameterHolder.js";import"./RatingSelected.js";import"./PsTextarea2.js";import"./RatingHolder.js";class ds{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId=""}GetChatHistoryParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o}}class ns{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type="",this.isUserOnline="",this.message=""}MakeOfferParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type=_.CHAT_TO_SELLER,this.isUserOnline="",this.message=""}AcceptOfferParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.negoPrice="",this.type=_.CHAT_TO_BUYER,this.isUserOnline="",this.message=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.nego_price=this.negoPrice,o.type=this.type,o.is_user_online=this.isUserOnline,o.message=this.message,o}}class le{constructor(){this.addedDateTimeStamp=0,this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="",this.offerStatus=0,this.sendByUserId="",this.sessionId="",this.type=0}ChatParameterHolder(){return this.addedDateTimeStamp=Math.floor(Date.now()),this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="hi",this.offerStatus=_.CHAT_STATUS_NULL,this.sendByUserId="",this.sessionId="",this.type=_.CHAT_TYPE_TEXT,this}ChatAcceptParameterHolder(){return this.addedDateTimeStamp=Math.floor(Date.now()),this.id="",this.isSold=!1,this.isUserBought=!1,this.itemId="",this.message="",this.offerStatus=_.CHAT_STATUS_ACCEPT,this.sendByUserId="",this.sessionId="",this.type=_.CHAT_TYPE_ACCEPT,this}toMap(){const o={};return o.item_id=this.itemId,o.send_by_user_id=this.sendByUserId,o.message=this.message,o.type=this.type,o}}class ms{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.type=""}ResetUnReadMessageHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.type=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.type=this.type,o}}class Ae extends ts{constructor(){super(...arguments),this.id="",this.itemId="",this.sessionId="",this.key="",this.message="",this.type=0,this.sendByUserId="",this.offerStatus=0,this.addedDate="",this.isSold=!1,this.isUserBought=!1,this.dateTimeString="",this.dateString="",this.timeString=""}init(o,l,s,Z,H,$,U,I,u,b,x,D,L,F){return this.id=o,this.itemId=l,this.sessionId=s,this.key=Z,this.message=H,this.type=$,this.sendByUserId=U,this.offerStatus=I,this.addedDate=u,this.isSold=b,this.isUserBought=x,this.dateTimeString=D,this.dateString=L,this.timeString=F,this}getPrimaryKey(){return this.itemId}fromMap(o){return new Ae().init(o.id,o.itemId,o.sessionId,o.key,o.message,o.type,o.sendByUserId,o.offerStatus,o.addedDate,o.isSold,o.isUserBought,o.dateTimeString,o.dateString,o.timeString)}fromMapList(o){const l=[];for(const s in o)s!=null&&l.push(this.fromMap(s));return l}toMap(o){const l={};return l.id=o.id,l.itemId=o.itemId,l.sessionId=o.sessionId,l.key=o.key,l.message=o.message,l.type=o.type,l.sendByUserId=o.sendByUserId,l.offerStatus=o.offerStatus,l.addedDate=o.addedDate,l.isSold=o.isSold,l.isUserBought=o.isUserBought,l.dateTimeString=o.dateTimeString,l.dateString=o.dateString,l.timeString=o.timeString,l}toMapList(o){const l=[];for(let s=0;s<o.length;s++)o[s]!=null&&l.push(this.toMap(o[s]));return l}}class cs{constructor(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.isUserOnline=""}IsUserBoughtParameterHolder(){this.itemId="",this.buyerUserId="",this.sellerUserId="",this.isUserOnline=""}toMap(){const o={};return o.item_id=this.itemId,o.buyer_user_id=this.buyerUserId,o.seller_user_id=this.sellerUserId,o.is_user_online=this.isUserOnline,o}}const fs={name:"ChatView",components:{PsLabel:Dt,PsInput:bt,PsLine:wt,PsContentContainer:Pt,PsIcon:Bt,PsLabelTitle3:Rt,PsLabelCaption2:Lt,PsLoadingDialog:Nt,OfferModal:Jt,PsConfirmDialog2:Gt,PsErrorDialog:qt,PsSuccessDialog:Vt,ChatImageDetail:zt,PsRouteLink:Mt,ReviewModal:jt,PsBreadcrumb2:Et,PsButton:Ht,PsDropdown:Ot,Head:yt},props:["query"],layout:kt,setup(n){var Le,Fe,Ye,Ne,Ge,qe,Ve,ze,Je,Xe,je,Ke;const l=Yt().getLoginUserId(),s=v(!1);(l==null||l==""||l==_.NO_LOGIN_USER)&&xt.Inertia.get(route("login"));const Z=new is;Z.userId=l;const H=os(),$=rs(),U=(Ye=(Fe=(Le=n.query)==null?void 0:Le.buyer_user_id)==null?void 0:Fe.toString())!=null?Ye:"",I=(qe=(Ge=(Ne=n.query)==null?void 0:Ne.seller_user_id)==null?void 0:Ge.toString())!=null?qe:"",u=v(""),b=v(""),x=(Je=(ze=(Ve=n.query)==null?void 0:Ve.item_id)==null?void 0:ze.toString())!=null?Je:"",D=v("");let L=v("");const F=v(""),ee=(Ke=(je=(Xe=n.query)==null?void 0:Xe.chat_flag)==null?void 0:je.toString())!=null?Ke:_.CHAT_FROM_BUYER,te=v("0"),_e=new Zt;_e.userId=l;const se=Wt();async function ue(){}ue();const Y=Xt(),he=$t(),N=Kt();Ft();const B=es(),G=new ds,e=new ns,r=new le().ChatParameterHolder(),C=new cs,J=new ms,w=v(),X=v(),Ue=v(),Te=v(),ke=v(),be=v(),we=v(),j=v(!1),Pe=v(),O=v(!1),R=T.sortinUserId(I,U),oe=ve.database().ref("Message/"+R),Ee=ve.database().ref("Current_Chat_With"),de=ve.database().ref("User_Presence");let M,re=v("");I==l?M=U:M=I;const He=Qt("chat");He.loadUser(M),J.itemId=x,J.buyerUserId=U,J.sellerUserId=I,ee==_.CHAT_FROM_SELLER?J.type=_.CHAT_TO_BUYER:J.type=_.CHAT_TO_SELLER;const Oe=v(""),ge=St({data:[]});async function K(){var t,y;G.itemId=x,G.buyerUserId=U,G.sellerUserId=I,await Y.loadChatHistory(G,l),j.value=!0,((y=(t=Y.chatHistory)==null?void 0:t.data)==null?void 0:y.isOffer)=="1"&&(j.value=!1)}function pe(t){t.target.scrollTop<50&&T.log("load more......")}function q(){const t=new Date().getTime();return T.getTimeStampDividedByOneThousand(parseInt(t.toString(),10))}async function et(t){r.id="",r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=t,r.offerStatus=_.CHAT_STATUS_NULL,r.sendByUserId=l,r.sessionId=R,r.type=_.CHAT_TYPE_TEXT,await E(r,!0)}async function E(t,y=!1){var ie;let p;t.id==""?p=(ie=oe.push().key)!=null?ie:"":p=t.id;const d=t.sendByUserId,V={addedDate:t.addedDateTimeStamp,id:p,isSold:t.isSold,isUserBought:t.isUserBought,itemId:t.itemId,message:t.message,offerStatus:t.offerStatus,sendByUserId:t.sendByUserId,sessionId:t.sessionId,type:t.type},z={itemId:t.itemId,receiverId:M,senderId:d},me={userId:d,userName:"Tester"};oe.child(p).set(V),Ee.child(d).set(z),de.child(d).set(me);let Q="0";O.value&&(Q="1"),y&&(ee==_.CHAT_FROM_SELLER?Y.postChatHistory(x,U,I,_.CHAT_TO_SELLER,Q,t.message,l):Y.postChatHistory(x,U,I,_.CHAT_TO_BUYER,Q,t.message,l)),Oe.value="",Be(700)}let ne;function Be(t){setTimeout(function(){ne!=null?ne.scrollTop=ne.scrollHeight+400:T.log("it null")},t)}function tt(t){var y,p,d;return t.toString()=="0"?S("item_price__free"):ss((d=(p=(y=se==null?void 0:se.appInfo)==null?void 0:y.data)==null?void 0:p.mobileSetting)==null?void 0:d.price_format,t)}It(async()=>{var y,p,d,V,z,me,Q,ie,Qe;const t={userId:l,userName:"Tester"};de.child(l).set(t),await he.resetUnreadMessageCount(l,J),$.postUserUnreadMessageCount(Z),await K(),await H.loadItem(x,l),u.value=(y=H.item.data)==null?void 0:y.title,b.value=(d=(p=H.item.data)==null?void 0:p.category)==null?void 0:d.catName,D.value=(z=(V=H.item.data)==null?void 0:V.defaultPhoto)==null?void 0:z.imgPath,L.value=(me=H.item.data)==null?void 0:me.price,F.value=(ie=(Q=H.item.data)==null?void 0:Q.itemCurrency)==null?void 0:ie.currencySymbol,te.value=(Qe=H.item.data)==null?void 0:Qe.isSoldOut,s.value=!0,window.addEventListener("scroll",pe),ne=document.getElementById("messages"),oe.orderByChild("itemId").equalTo(x).on("value",pt=>{ge.data=[];const ye=[];let xe="",ce=j.value;pt.forEach(ae=>{const A=ae.val();if(A.key=ae.key,A.offerStatus==_.CHAT_STATUS_REJECT||A.offerStatus==_.CHAT_STATUS_IS_USER_BOUGHT?ce=!0:A.offerStatus==_.CHAT_STATUS_SOLD?(ce=!1,te.value="1"):ce=j.value,A!=null){if(A.dateTimeString=T.timeStampToDateString(A.addedDate),A.dateTimeString!=null&&A.dateTimeString!=""&&A.dateTimeString.includes(" ")){const We=A.dateTimeString.split(" ");if(A.dateString=We[0],A.timeString=We[1],xe==""||xe!=A.dateString){xe=A.dateString;const Ie={};Ie.message=A.dateString,Ie.type=_.CHAT_TYPE_DATE,ye.push(Ie)}}let Se=new Ae;Se=Se.fromMap(A),ye.push(Se)}}),j.value=ce,ge.data=ye.reverse(),Be(1500),de.child(M).on("value",ae=>{ae.val()!=null&&ae.val().userId==M?O.value=!0:O.value=!1})})}),Ct(()=>{Ee.child(l).remove(),de.child(l).remove(),window.removeEventListener("scroll",pe)});function st(){Pe.value.click()}async function ot(t){const y=t.target.files;if(y&&y.length>1)T.log(y.length);else{let p;for(let d=0;d<y.length;d++)p=y[d];if(p!=null){w.value.openModal(),w.value.setMessage(S("chat__uploading_image"));let d;l==I?d=_.CHAT_TO_BUYER:d=_.CHAT_TO_SELLER;let V="0";O.value&&(V="1");const z=await N.postChatImageUpload(l,I,U,x,d,V,p);z.status==W.SUCCESS?(r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=z.data.imgPath,r.offerStatus=_.CHAT_STATUS_NULL,r.sendByUserId=l,r.sessionId=R,r.type=_.CHAT_TYPE_IMAGE,await E(r,!0)):T.log("error"),w.value.closeModal()}}}function rt(){be.value.openModal(u.value,b.value,D.value,F.value,L.value)}async function it(t,y){let p="0";O.value&&(p="1"),e.itemId=x,e.buyerUserId=U,e.sellerUserId=I,e.negoPrice=t,e.type=_.CHAT_TO_SELLER,e.isUserOnline=p,e.message=t,w.value.openModal();const d=await B.makeOffer(U,e);d.status==W.ERROR?T.log(d.message):(r.id="",r.addedDateTimeStamp=q(),r.isSold=!1,r.isUserBought=!1,r.itemId=x,r.message=y+" "+t,r.offerStatus=_.CHAT_STATUS_OFFER,r.sendByUserId=l,r.sessionId=R,r.type=_.CHAT_TYPE_OFFER,await E(r)),await K(),w.value.closeModal()}function at(t){X.value.openModal(S("chat__accept_title"),S("chat__confirm_to_accept_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{lt(t)},()=>{T.log("cancel")})}async function lt(t){let y="0";O.value&&(y="1"),e.itemId=x,e.buyerUserId=U,e.sellerUserId=I,e.negoPrice=t.message,e.type=_.CHAT_TO_BUYER,e.isUserOnline=y,e.message=t.message,w.value.openModal();const p=await B.acceptOffer(l,e);if(p.status==W.ERROR)T.log(p.message);else{r.id=t.id,r.isSold=!1,r.isUserBought=!1,r.itemId=t.itemId,r.message=t.message,r.offerStatus=_.CHAT_STATUS_OFFER,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=_.CHAT_TYPE_ACCEPT,r.addedDateTimeStamp=t.addedDate,await E(r);const d=new le().ChatAcceptParameterHolder();d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!1,d.itemId=x,d.message=t.message,d.offerStatus=_.CHAT_STATUS_ACCEPT,d.type=_.CHAT_TYPE_ACCEPT,d.sendByUserId=l,d.sessionId=R,await E(d)}await K(),w.value.closeModal()}async function De(t){let y="0";O.value&&(y="1"),C.itemId=x,C.buyerUserId=U,C.sellerUserId=I,C.isUserOnline=y,w.value.openModal();const p=await B.isUserBought(l,C);if(p.status==W.ERROR)T.log(p.message);else{r.addedDateTimeStamp=t.addedDate,r.isSold=!1,r.isUserBought=!0,r.id=t.id,r.itemId=t.itemId,r.message=t.message,r.offerStatus=_.CHAT_STATUS_ACCEPT,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=_.CHAT_TYPE_TEXT,await E(r);const d=new le;d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!0,d.itemId=x,d.message=t.message,d.offerStatus=_.CHAT_STATUS_IS_USER_BOUGHT,d.sendByUserId=l,d.sessionId=R,d.type=_.CHAT_TYPE_BOUGHT,await E(d)}await K(),w.value.closeModal()}function dt(t){X.value.openModal(S("item_detail__mark_as_sold_out"),S("item_detail__confirm_to_sold_out"),S("chat__confirm"),S("chat__cancel"),()=>{nt(t)},()=>{T.log("Cancel")})}async function nt(t){C.itemId=x,C.buyerUserId=U,C.sellerUserId=I,w.value.openModal();const y=await B.markAsSold(l,C);if(y.status==W.ERROR)T.log(y.message);else{r.id=t.id,r.isSold=!0,r.isUserBought=!0,r.itemId=t.itemId,r.message=t.message,r.offerStatus=_.CHAT_STATUS_ACCEPT,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=_.CHAT_TYPE_TEXT,r.addedDateTimeStamp=t.addedDate,await E(r);const p=new le;p.addedDateTimeStamp=q(),p.isSold=!0,p.isUserBought=!0,p.itemId=x,p.message=t.message,p.offerStatus=_.CHAT_STATUS_SOLD,p.sendByUserId=l,p.sessionId=R,p.type=_.CHAT_TYPE_SOLD,await E(p)}await K(),w.value.closeModal()}function mt(t){X.value.openModal(S("chat__reject_title"),S("chat__confirm_to_reject_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{_t(t)},()=>{T.log("cancel")})}function ct(t){X.value.openModal(S("chat__user_pickup_title"),S("chat__confirm_to_user_pickup_dialog"),S("chat__confirm"),S("chat__cancel"),()=>{De(t)},()=>{T.log("cancel")})}function ft(t,y=""){X.value.openModal(S("chat__delete_message_title"),S("chat__confirm_to_delete_dialog"),S("chat__remove"),S("chat__cancel"),()=>{y!=""?Re(t.id):Me(t.id,y)},()=>{T.log("cancel"),re.value=""})}async function _t(t){let y="0";O.value&&(y="1"),e.itemId=x,e.buyerUserId=U,e.sellerUserId=I,e.negoPrice="0",e.type=_.CHAT_TO_BUYER,e.isUserOnline=y,e.message=t.message,w.value.openModal();const p=await B.makeOffer(l,e);if(p.status==W.ERROR)T.log(p.message);else{r.id=t.id,r.isSold=!1,r.isUserBought=!1,r.itemId=t.itemId,r.message=t.message,r.offerStatus=_.CHAT_STATUS_OFFER,r.sendByUserId=t.sendByUserId,r.sessionId=t.sessionId,r.type=_.CHAT_TYPE_REJECT,r.addedDateTimeStamp=t.addedDate,await E(r);const d=new le().ChatAcceptParameterHolder();d.addedDateTimeStamp=q(),d.isSold=!1,d.isUserBought=!1,d.itemId=x,d.message=t.message,d.offerStatus=_.CHAT_STATUS_REJECT,d.type=_.CHAT_TYPE_REJECT,d.sendByUserId=l,d.sessionId=R,await E(d)}await K(),w.value.closeModal()}function ut(t){ke.value.openModal(t)}function ht(){we.value.openModal(M,()=>{Te.value.openModal(S("chat__review_error"))},()=>{Ue.value.openModal("",S("chat__review_sent"))})}async function Re(t){await oe.child(t).remove()}async function Me(t,y){await oe.child(t).remove(),N.postChatImageDelete(y,l)}function gt(t){re.value==""?re.value=t!=null?t:"":re.value=""}return{dataReady:s,chatHistoryProvider:Y,userStore:He,sellerUserId:I,handleScroll:pe,chats:ge,chatFlag:ee,sendMessage:E,inputMessageController:Oe,itemName:u,itemCategory:b,itemId:x,itemImageName:D,itemPrice:L,currency:F,PsConst:_,loginUserId:l,otherUserId:M,isOtherUserOnline:O,onImageClick:st,image:Pe,onImageSelected:ot,ps_loading_dialog:w,ps_confirm_dialog:X,makeOfferClicked:rt,offer_modal:be,review_modal:we,submitOffer:it,offerProvider:B,acceptOffer:at,rejectOffer:mt,sendNormalMessage:et,isUserBought:De,markAsSoldClick:dt,imageView:ut,chat_image:ke,showOffer:j,clickGiveReview:ht,ps_error_dialog:Te,ps_success_dialog:Ue,formatPrice:tt,isSoldOut:te,chatDelete:Re,chatImageDelete:Me,userPickup:ct,deleteChatId:re,showDeleteDropDown:gt,deleteConfirm:ft,moment:as}},computed:{breadcrumb(){return[{label:S("chat__chat_list"),url:route("fe_chat_list")},{label:"Chat",color:"text-fePrimary-500"}]}}},_s={class:"relative flex flex-col",style:{height:"90vh"}},us={class:"lg:mt-32 mt-28 h-48 flex flex-col"},hs={class:"flex flex-wrap items-center mb-2 mt-2 p-2 bg-feAchromatic-50 rounded dark_bg-feAchromatic-900"},gs={class:"flex flex-row content-end items-center cursor-pointer"},ps={alt:"Placeholder",width:"300px",height:"200px",class:"w-12 h-12 object-cover bg-feAchromatic-50 rounded-full me-2"},ys={class:"grow"},xs={key:0,class:"flex flex-row items-center"},Ss={key:1,class:"flex flex-row items-center"},Is=a("div",{class:"w-52"},null,-1),Cs={key:0,class:"flex sm:flex-row justify-between bg-feAchromatic-50 p-2 rounded dark_bg-feAchromatic-900"},vs={class:"flex flex-row cursor-pointer"},As={alt:"Placeholder",class:"w-16 h-16 bg-feAchromatic-50 rounded-md"},Us={class:"grow grid grid-col-4 sm:flex sm:justify-between ms-4"},Ts={class:"col-span-2"},ks={class:"col-span-2 sm:hidden flex items-center justify-end"},bs={class:"col-span-4 flex items-center me-2"},ws={key:0,class:"chat"},Ps={key:0},Es={class:"flex w-full justify-center"},Hs={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block font-medium"},Os={key:1},Bs={key:0},Ds={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},Rs={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-feInfo-500"},Ms=a("br",null,null,-1),Ls={key:1,class:"pe-1/3 flex flex-col"},Fs={class:"flex flex-row items-end"},Ys={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-br-none bg-feInfo-500"},Ns=a("br",null,null,-1),Gs=a("br",{class:"sm:hidden"},null,-1),qs={key:1},Vs={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},zs={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block rounded-bl-none bg-feError-500 text-feAchromatic-50"},Js={key:1,class:"pe-1/3 flex flex-col"},Xs={class:"flex flex-row items-end"},js={class:"px-4 py-2 mt-2 mb-1 rounded-lg inline-block rounded-br-none bg-feError-500"},Ks={key:2},Qs={key:0},Ws={key:1},Zs={key:0,class:"w-full flex flex-col justify-end items-end"},$s={class:"flex flex-row items-end mb-2"},eo={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-feSuccess-500"},to={key:0,class:"flex flex-row items-end mb-2"},so={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-feInfo-500"},oo={key:1,class:"flex flex-row items-end mb-2"},ro={class:"px-2 py-4 rounded-md inline-block rounded-bl-none bg-feError-500"},io={key:2,class:"flex justify-center w-full mt-5"},ao={key:1,class:"pe-1/3 flex flex-col"},lo={class:"flex flex-row items-end mb-2"},no={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-feSuccess-500"},mo={key:0,class:"flex flex-row items-end mb-2"},co={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-feInfo-500"},fo={key:1,class:"flex flex-row items-end mb-2"},_o={class:"px-2 py-4 rounded-md inline-block rounded-br-none bg-feError-500"},uo={key:3},ho={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},go={class:""},po={class:"relative"},yo=["onClick"],xo={class:"p-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-feSecondary-100 dark_bg-feAchromatic-800"},So={key:1,class:"pe-1/3 flex flex-row items-end"},Io={class:"p-4 mt-2 mb-1 rounded-md inline-block rounded-br-none bg-fePrimary-500"},Co={key:2},vo={class:"mt-5 mb-2 grid grid-cols-4 gap-x-4 sm:flex sm:flex-row sm:justify-center rtl:space-x-reverse sm:space-x-3"},Ao={class:"col-span-2"},Uo={key:0,class:"col-span-2"},To={key:3},ko={class:"w-full mt-5 flex justify-center items-center"},bo={key:4},wo={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end"},Po={class:"px-2 py-4 mt-2 mb-1 rounded-md inline-block rounded-bl-none bg-feInfo-500"},Eo=a("br",null,null,-1),Ho={key:1,class:"flex flex-col"},Oo={class:"flex flex-row items-end"},Bo={class:"px-2 py-4 mt-2 mb-1 rounded-md block rounded-br-none bg-feInfo-500"},Do=a("br",null,null,-1),Ro={key:0,class:"mt-5 mb-2 grid grid-cols-4 gap-4 sm:flex sm:flex-row sm:justify-center rtl:space-x-reverse sm:space-x-4"},Mo={key:5},Lo={key:0,class:"w-full flex justify-end ps-1/3 flex-row items-end h-48 mt-4"},Fo={class:"relative"},Yo=["onClick"],No=["onClick"],Go={key:1,class:"pe-1/3 flex flex-row items-end h-48 mt-4"},qo=["onClick"],Vo={class:"mt-2 mb-0 sm:mb-0 absolute inset-y-full w-full"},zo={class:"relative flex pt-1 w-full"},Jo={type:"button",class:"inline-flex items-center justify-center rounded-full h-10 w-10 transition duration-500 ease-in-out"},Xo={class:"grow relative"};function jo(n,o,l,s,Z,H){const $=k("Head"),U=k("ps-breadcrumb-2"),I=k("ps-route-link"),u=k("ps-label"),b=k("ps-icon"),x=k("ps-button"),D=k("ps-label-caption-2"),L=k("ps-input"),F=k("ps-content-container"),ee=k("ps-loading-dialog"),te=k("ps-confirm-dialog-2"),_e=k("ps-error-dialog"),se=k("ps-success-dialog"),ue=k("chat-image-detail"),Y=k("offer-modal"),he=k("review-modal"),N=vt("lazy");return h(),g($e,null,[i($,{title:n.$t("chat__title")},null,8,["title"]),i(F,{class:"h-screen"},{content:m(()=>{var B,G;return[a("div",_s,[a("div",us,[i(U,{items:H.breadcrumb},null,8,["items"]),a("div",hs,[i(I,{to:{name:"fe_other_profile",query:{userId:(G=(B=s.userStore.user)==null?void 0:B.data)==null?void 0:G.userId}},class:"w-16"},{default:m(()=>{var e,r;return[a("div",gs,[fe(a("img",ps,null,512),[[N,{src:n.$page.props.thumb1xUrl+"/"+((r=(e=s.userStore.user)==null?void 0:e.data)==null?void 0:r.userCoverPhoto),loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])]}),_:1},8,["to"]),a("div",ys,[i(u,{class:"font-medium text-base"},{default:m(()=>{var e,r;return[f(c((r=(e=s.userStore.user)==null?void 0:e.data)==null?void 0:r.userName),1)]}),_:1}),s.isOtherUserOnline?(h(),g("div",xs,[i(b,{name:"dot",w:"10",h:"10",class:"text-feSuccess-300 me-2"}),i(u,null,{default:m(()=>[f(c(n.$t("chat__online")),1)]),_:1})])):(h(),g("div",Ss,[i(b,{name:"dot",w:"10",h:"10",class:"text-feAchromatic-300 me-2"}),i(u,null,{default:m(()=>[f(c(n.$t("chat__offline")),1)]),_:1})]))]),Is,s.chatFlag==s.PsConst.CHAT_FROM_SELLER?(h(),At(x,{key:0,onClick:Ze(s.makeOfferClicked,["prevent"]),rounded:"rounded",class:"mt-2 sm:mt-0",disabled:!(s.isSoldOut!="1"&&s.showOffer)},{default:m(()=>[f(c(n.$t("chat__make_an_offer")),1)]),_:1},8,["onClick","disabled"])):P("",!0)]),s.dataReady?(h(),g("div",Cs,[i(I,{to:{name:"fe_item_detail",query:{item_id:s.itemId}}},{default:m(()=>[a("div",vs,[fe(a("img",As,null,512),[[N,{src:n.$page.props.thumb2xUrl+"/"+s.itemImageName,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])]),_:1},8,["to"]),a("div",Us,[a("div",Ts,[i(u,{textColor:"font-semibold text-fePrimary-500",class:"text-xs sm:text-xl"},{default:m(()=>[f(c(s.itemName),1)]),_:1}),i(u,{class:"font-normal text-lg"},{default:m(()=>[f(c(s.itemCategory),1)]),_:1}),i(u,{class:"font-normal text-xs",textColor:"text-feAchromatic-500"},{default:m(()=>[f(c(s.currency)+" "+c(s.formatPrice(s.itemPrice)),1)]),_:1})]),a("div",ks,[i(I,{to:{name:"fe_item_detail",query:{item_id:s.itemId}},class:"block sm:hidden"},{default:m(()=>[i(b,{name:"doubleRightArrow"})]),_:1},8,["to"])]),a("div",bs,[i(x,{class:Ce([s.isSoldOut=="1"?"":"hidden","h-[20px] sm:h-[28px]"]),rounded:"rounded",hover:!1},{default:m(()=>[f(c(n.$t("chat__mark_sold_out")),1)]),_:1},8,["class"]),i(I,{to:{name:"fe_item_detail",query:{item_id:s.itemId}},class:"hidden sm:block"},{default:m(()=>[i(b,{name:"doubleRightArrow"})]),_:1},8,["to"])])])])):P("",!0)]),a("div",{ref:"messages",onScroll:o[2]||(o[2]=(...e)=>s.handleScroll&&s.handleScroll(...e)),id:"messages",class:"px-4 flex flex-col-reverse overflow-y-auto mt-14 sm:mt-3 h-full scrolling-touch"},[(h(!0),g($e,null,Ut(s.chats.data,e=>{var r;return h(),g("div",{key:(r=e.id)!=null?r:""},[e.message!=""&&e.message!=null?(h(),g("div",ws,[e.type==s.PsConst.CHAT_TYPE_DATE?(h(),g("div",Ps,[a("div",Es,[a("span",Hs,[i(u,null,{default:m(()=>[f(c(e.message),1)]),_:2},1024)])])])):e.type==s.PsConst.CHAT_TYPE_TEXT?(h(),g("div",Os,[e.offerStatus==s.PsConst.CHAT_STATUS_OFFER?(h(),g("div",Bs,[e.sendByUserId==s.loginUserId?(h(),g("div",Ds,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",Rs,[i(u,{class:"text-center",textColor:"text-feAchromatic-50Dark"},{default:m(()=>[f(c(n.$t("chat__send_offer"))+" ",1),Ms,f(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)])])):(h(),g("div",Ls,[a("div",Fs,[a("span",Ys,[i(u,{textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__receive_offer"))+" ",1),Ns,f(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)]),Gs,i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)])]))])):e.offerStatus==s.PsConst.CHAT_STATUS_REJECT?(h(),g("div",qs,[e.sendByUserId==s.loginUserId?(h(),g("div",Vs,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",zs,[i(u,{class:"text-center",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_rejected_item")),1)]),_:1})])])):(h(),g("div",Js,[a("div",Xs,[a("span",js,[i(u,{textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_rejected_item")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)])]))])):e.offerStatus==s.PsConst.CHAT_STATUS_ACCEPT?(h(),g("div",Ks,[e.isSold&&e.isUserBought?(h(),g("div",Qs)):(h(),g("div",Ws,[e.sendByUserId==s.loginUserId?(h(),g("div",Zs,[a("div",$s,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",eo,[i(u,{class:"text-center",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_accepted_item")),1)]),_:1})])]),e.isUserBought?(h(),g("div",to,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",so,[i(u,{class:"text-center",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_item_pickup")),1)]),_:1})])])):P("",!0),s.isSoldOut=="1"?(h(),g("div",oo,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",ro,[i(u,{class:"text-center",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_item_soldout")),1)]),_:1})])])):P("",!0),e.offerStatus==s.PsConst.CHAT_STATUS_ACCEPT&&e.isUserBought==!1?(h(),g("div",io,[i(x,{onClick:C=>s.userPickup(e),colors:"bg-feAchromatic-50 text-fePrimary-500 dark_bg-feAchromatic-800 dark_text-feAchromatic-200 hover_text-feAchromatic-50",focus:"focus_text-feAchromatic-50 focus_bg-fePrimary-500",border:"border border-feAchromatic-300 dark_border-feAchromatic-500"},{default:m(()=>[f(c(n.$t("chat__user_has_a_pickup")),1)]),_:2},1032,["onClick"])])):P("",!0)])):(h(),g("div",ao,[a("div",lo,[a("span",no,[i(u,{class:"",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_accepted_item")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]),e.isUserBought?(h(),g("div",mo,[a("span",co,[i(u,{class:"text-center",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_item_pickup")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)])):P("",!0),s.isSoldOut=="1"?(h(),g("div",fo,[a("span",_o,[i(u,{class:"text-center",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__offer_item_soldout")),1)]),_:1})]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)])):P("",!0)]))]))])):(h(),g("div",uo,[e.sendByUserId==s.loginUserId?(h(),g("div",ho,[a("div",go,[i(D,{onClick:C=>s.showDeleteDropDown(e.id),class:Ce([s.deleteChatId==e.id?"":"del","cursor-pointer rounded float-right"]),textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[i(b,{name:"verticalThreeDot",class:"text-feAchromatic-50Dark"})]),_:2},1032,["onClick","class"]),a("div",po,[s.deleteChatId==e.id?(h(),g("div",{key:0,onClick:C=>s.deleteConfirm(e),class:"bg-feAchromatic-50 shadow-sm absolute top-4 right-2 px-5 py-1 rounded border transform cursor-pointer text-sm dark_bg-feAchromatic-900 dark_text-feAchromatic-50"},c(n.$t("chat__delete_messages")),9,yo)):P("",!0)]),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]),a("span",xo,[i(u,{class:"text-sm"},{default:m(()=>[f(c(e.message),1)]),_:2},1024)])])):(h(),g("div",So,[a("span",Io,[i(u,{textColor:"text-feAchromatic-50",class:"text-sm"},{default:m(()=>[f(c(e.message),1)]),_:2},1024)]),i(u,{class:"ms-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]))]))])):e.type==s.PsConst.CHAT_TYPE_BOUGHT?(h(),g("div",Co,[a("div",vo,[a("div",Ao,[i(x,{onClick:o[0]||(o[0]=C=>s.clickGiveReview()),colors:"bg-feAchromatic-50 text-fePrimary-500 dark_bg-feAchromatic-800 dark_text-feAchromatic-200 hover_text-feAchromatic-50",border:"border border-feAchromatic-300 dark_border-feAchromatic-500"},{default:m(()=>[f(c(n.$t("chat__leave_a_review")),1)]),_:1})]),e.sendByUserId==s.loginUserId&&e.offerStatus==s.PsConst.CHAT_STATUS_IS_USER_BOUGHT?(h(),g("div",Uo,[i(x,{onClick:C=>s.markAsSoldClick(e),class:"w-full",colors:"bg-fePrimary-500 text-feAchromatic-50 dark_bg-feAchromatic-800 dark_text-feAchromatic-200 hover_text-feAchromatic-50",border:"border border-feAchromatic-300 dark_border-feAchromatic-500"},{default:m(()=>[f(c(n.$t("chat__mark_sold_out")),1)]),_:2},1032,["onClick"])])):P("",!0)])])):e.type==s.PsConst.CHAT_TYPE_SOLD?(h(),g("div",To,[a("div",ko,[a("div",null,[i(x,{onClick:o[1]||(o[1]=C=>s.clickGiveReview()),class:"h-9",colors:"bg-feAchromatic-50 text-fePrimary-500 dark_bg-feAchromatic-800 dark_text-feAchromatic-200 hover_text-feAchromatic-50",border:"border border-feAchromatic-300 dark_border-feAchromatic-500"},{default:m(()=>[f(c(n.$t("chat__leave_a_review")),1)]),_:1})])])])):e.type==s.PsConst.CHAT_TYPE_OFFER?(h(),g("div",bo,[e.sendByUserId==s.loginUserId?(h(),g("div",wo,[i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024),a("span",Po,[i(u,{class:"text-center",textColor:"text-feAchromatic-50Dark"},{default:m(()=>[f(c(n.$t("chat__send_offer"))+" ",1),Eo,f(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)])])):(h(),g("div",Ho,[a("div",Oo,[a("span",Bo,[i(u,{class:"dark_text-feAchromatic-800",textColor:"text-feAchromatic-50"},{default:m(()=>[f(c(n.$t("chat__receive_offer"))+" ",1),Do,f(c(s.itemPrice=="0"?n.$t("item_price__free"):e.message),1)]),_:2},1024)]),i(u,{class:"ms-2 mb-2 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-50"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]),e.offerStatus==s.PsConst.CHAT_STATUS_OFFER?(h(),g("div",Ro,[i(x,{onClick:C=>s.acceptOffer(e),class:"col-span-2 sm:w-[140px] h-9",textSize:"font-normal text-xxs lg:text-sm",colors:"bg-feSuccess-600 cursor-pointer text-feAchromatic-50",rounded:"rounded",hover:"hover_bg-feSuccess-700",focus:"focus_bg-feSuccess-700"},{default:m(()=>[f(c(n.$t("chat__accept")),1)]),_:2},1032,["onClick"]),i(x,{onClick:C=>s.rejectOffer(e),class:"col-span-2 sm:w-[140px] h-9",textSize:"font-normal text-xxs lg:text-sm",colors:"text-fePrimary-500 dark_bg-feAchromatic-800 dark_text-feAchromatic-200 hover_text-feAchromatic-50",focus:"focus_text-feAchromatic-50 focus_bg-fePrimary-500",border:"border border-feAchromatic-300 dark_border-feAchromatic-500",rounded:"rounded"},{default:m(()=>[f(c(n.$t("chat__reject")),1)]),_:2},1032,["onClick"])])):P("",!0)]))])):e.type==s.PsConst.CHAT_TYPE_IMAGE?(h(),g("div",Mo,[e.sendByUserId==s.loginUserId?(h(),g("div",Lo,[a("div",Fo,[i(D,{onClick:C=>s.showDeleteDropDown(e.id),class:Ce([s.deleteChatId==e.id?"":"del","cursor-pointer rounded float-right"]),textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[i(b,{name:"verticalThreeDot",class:"text-feAchromatic-50Dark"})]),_:2},1032,["onClick","class"]),s.deleteChatId==e.id?(h(),g("div",{key:0,onClick:C=>s.deleteConfirm(e,e.message),class:"bg-feAchromatic-50 shadow-sm absolute top-4 right-2 p-1 rounded border cursor-pointer transform"},c(n.$t("chat__delete_messages")),9,Yo)):P("",!0),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]),fe(a("img",{onClick:C=>s.imageView(e.message),width:"300px",height:"200px",alt:"Placeholder",class:"cursor-pointer w-auto h-48 p-2 object-cover rounded-md"},null,8,No),[[N,{src:n.$page.props.thumb3xUrl+"/"+e.message,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]])])):(h(),g("div",Go,[fe(a("img",{onClick:C=>s.imageView(e.message),width:"300px",height:"200px",alt:"Placeholder",class:"cursor-pointer w-auto h-48 p-2 object-cover rounded-md"},null,8,qo),[[N,{src:n.$page.props.thumb3xUrl+"/"+e.message,loading:n.$page.props.sysImageUrl+"/loading_gif.gif",error:n.$page.props.sysImageUrl+"/default_photo.png"}]]),i(u,{class:"me-2 mb-1 text-xs font-normal",textColor:"text-feAchromatic-50Dark dark_text-feAchromatic-400"},{default:m(()=>[f(c(e.timeString),1)]),_:2},1024)]))])):P("",!0)])):P("",!0)])}),128))],544),a("div",Vo,[a("div",zo,[a("div",{for:"upload-image1",onClick:o[4]||(o[4]=(...e)=>s.onImageClick&&s.onImageClick(...e))},[a("input",{class:"py-2",type:"file",size:"1",max:"1",accept:".jpg,.jpeg,.png",onChange:o[3]||(o[3]=e=>s.onImageSelected(e)),ref:"image",id:"upload-image1",style:{display:"none"},ordering:1},null,544),a("button",Jo,[i(b,{name:"camera",textColor:"text-fePrimary-500 dark_text-fePrimary-500"})])]),a("div",Xo,[i(L,{placeholder:n.$t("chat__type_message"),onKeyup:o[5]||(o[5]=Tt(e=>s.sendNormalMessage(s.inputMessageController),["enter"])),value:s.inputMessageController,"onUpdate:value":o[6]||(o[6]=e=>s.inputMessageController=e),class:"mt-1",theme:"form-input dark_bg-feAchromatic-800 text-feSecondary-500 dark_text-feAchromatic-50"},null,8,["placeholder","value"]),a("button",{type:"button",onClick:o[7]||(o[7]=Ze(e=>s.sendNormalMessage(s.inputMessageController),["prevent"])),class:"absolute right-3 top-3"},[i(b,{name:"send",textColor:"text-fePrimary-500 dark_text-fePrimary-500"})])])])])])]}),_:1}),i(ee,{ref:"ps_loading_dialog"},null,512),i(te,{ref:"ps_confirm_dialog"},null,512),i(_e,{ref:"ps_error_dialog"},null,512),i(se,{ref:"ps_success_dialog"},null,512),i(ue,{ref:"chat_image"},null,512),i(Y,{ref:"offer_modal",price:s.itemPrice,onSubmit:s.submitOffer},null,8,["price","onSubmit"]),i(he,{ref:"review_modal"},null,512)],64)}var xi=ls(fs,[["render",jo]]);export{xi as default};
